{
  "code": [
    "from manim import *",
    "",
    "class CustomLayoutExample(Scene):",
    "    def construct(self):",
    "        import numpy as np",
    "        import networkx as nx",
    "",
    "        # create custom layout",
    "        def custom_layout(",
    "            graph: nx.Graph,",
    "            scale: float | tuple[float, float, float] = 2,",
    "            n: int | None = None,",
    "            *args: Any,",
    "            **kwargs: Any,",
    "        ):",
    "            nodes = sorted(list(graph))",
    "            height = len(nodes) // n",
    "            return {",
    "                node: (scale * np.array([",
    "                    (i % n) - (n-1)/2,",
    "                    -(i // n) + height/2,",
    "                    0",
    "                ])) for i, node in enumerate(graph)",
    "            }",
    "",
    "        # draw graph",
    "        n = 4",
    "        graph = Graph(",
    "            [i for i in range(4 * 2 - 1)],",
    "            [(0, 1), (0, 4), (1, 2), (1, 5), (2, 3), (2, 6), (4, 5), (5, 6)],",
    "            labels=True,",
    "            layout=custom_layout,",
    "            layout_config={'n': n}",
    "        )",
    "        self.add(graph)"
  ],
  "source_url": "https://docs.manim.community/en/stable/reference/manim.mobject.graph.LayoutFunction.html"
}