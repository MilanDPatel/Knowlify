{
    "topic": "The mathematical concept being demonstrated is the construction of various space-filling curves, including the Pe",
    "code": [
        "from manim_imports_ext import *\n",
        "from from_3b1b.old.hilbert.curves import *\n",
        "\n",
        "class Intro(TransformOverIncreasingOrders):\n",
        "    @staticmethod\n",
        "    def args_to_string(*args):\n",
        "        return \"\"\n",
        "        \n",
        "    @staticmethod\n",
        "    def string_to_args(string):\n",
        "        raise Exception(\"string_to_args Not Implemented!\")\n",
        "\n",
        "    def construct(self):\n",
        "        words1 = OldTexText(\n",
        "            \"If you watched my video about Hilbert's space-filling curve\\\\dots\"\n",
        "        )\n",
        "        words2 = OldTexText(\n",
        "            \"\\\\dots you might be curious to see what a few other space-filling curves look like.\"\n",
        "        )\n",
        "        words2.scale(0.8)\n",
        "        for words in words1, words2:\n",
        "            words.to_edge(UP, buff = 0.2)\n",
        "\n",
        "        self.setup(HilbertCurve)\n",
        "        self.play(ShimmerIn(words1))\n",
        "        for x in range(4):\n",
        "            self.increase_order()\n",
        "        self.remove(words1)\n",
        "        self.increase_order(\n",
        "            ShimmerIn(words2)\n",
        "        )\n",
        "        for x in range(4):\n",
        "            self.increase_order()\n",
        "\n",
        "\n",
        "\n",
        "class BringInPeano(Intro):\n",
        "    def construct(self):\n",
        "        words1 = OldTexText(\"\"\"\n",
        "            For each one, see if you can figure out what\n",
        "            the pattern of construction is.\n",
        "        \"\"\")\n",
        "        words2 = OldTexText(\"\"\"\n",
        "            This one is the Peano curve.\n",
        "        \"\"\")\n",
        "        words3 = OldTexText(\"\"\"\n",
        "            It is the original space-filling curve.\n",
        "        \"\"\")\n",
        "        self.setup(PeanoCurve)\n",
        "        self.play(ShimmerIn(words1))\n",
        "        self.wait(5)\n",
        "        self.remove(words1)\n",
        "        self.add(words2.to_edge(UP))\n",
        "        for x in range(3):\n",
        "            self.increase_order()\n",
        "        self.remove(words2)\n",
        "        self.increase_order(ShimmerIn(words3.to_edge(UP)))\n",
        "        for x in range(2):\n",
        "            self.increase_order()\n",
        "\n",
        "\n",
        "class FillOtherShapes(Intro):\n",
        "    def construct(self):\n",
        "        words1 = OldTexText(\"\"\"\n",
        "            But of course, there's no reason we should limit \n",
        "            ourselves to filling in squares.\n",
        "        \"\"\")\n",
        "        words2 = OldTexText(\"\"\"\n",
        "            Here's a simple triangle-filling curve I defined\n",
        "            in a style reflective of a Hilbert curve.\n",
        "        \"\"\")\n",
        "        words1.to_edge(UP)\n",
        "        words2.scale(0.8).to_edge(UP, buff = 0.2)\n",
        "\n",
        "        self.setup(TriangleFillingCurve)\n",
        "        self.play(ShimmerIn(words1))\n",
        "        for x in range(3):\n",
        "            self.increase_order()\n",
        "        self.remove(words1)\n",
        "        self.add(words2)\n",
        "        for x in range(5):\n",
        "            self.increase_order()\n",
        "\n",
        "class SmallerFlowSnake(FlowSnake):\n",
        "    CONFIG = {\n",
        "        \"radius\" : 4\n",
        "    }\n",
        "\n",
        "class MostDelightfulName(Intro):\n",
        "    def construct(self):\n",
        "        words1 = OldTexText(\"\"\"\n",
        "            This one has the most delightful name, \n",
        "            thanks to mathematician/programmer Bill Gosper:\n",
        "        \"\"\")\n",
        "        words2 = OldTexText(\"``Flow Snake''\")\n",
        "        words3 = OldTexText(\"\"\"\n",
        "            What makes this one particularly interesting\n",
        "            is that the boundary itself is a fractal.\n",
        "        \"\"\")\n",
        "        for words in words1, words2, words3:\n",
        "            words.to_edge(UP)\n",
        "\n",
        "        self.setup(SmallerFlowSnake)\n",
        "        self.play(ShimmerIn(words1))\n",
        "        for x in range(3):\n",
        "            self.increase_order()\n",
        "        self.remove(words1)\n",
        "        self.add(words2)\n",
        "        for x in range(3):\n",
        "            self.increase_order()\n",
        "        self.remove(words2)\n",
        "        self.play(ShimmerIn(words3))\n",
        "\n",
        "\n",
        "\n",
        "class SurpriseFractal(Intro):\n",
        "    def construct(self):\n",
        "        words = OldTexText(\"\"\"\n",
        "            It might come as a surprise how some well-known\n",
        "            fractals can be described with curves.\n",
        "        \"\"\")\n",
        "        words.to_edge(UP)\n",
        "\n",
        "        self.setup(Sierpinski)\n",
        "        self.add(OldTexText(\"Speaking of other fractals\\\\dots\"))\n",
        "        self.wait(3)\n",
        "        self.clear()\n",
        "        self.play(ShimmerIn(words))\n",
        "        for x in range(9):\n",
        "            self.increase_order()\n",
        "\n",
        "\n",
        "class IntroduceKoch(Intro):\n",
        "    def construct(self):\n",
        "        words = list(map(TexText, [\n",
        "            \"This is another famous fractal.\",\n",
        "            \"The ``Koch Snowflake''\",\n",
        "            \"Let's finish things off by seeing how to turn \\\n",
        "            this into a space-filling curve\"\n",
        "        ]))\n",
        "        for text in words:\n",
        "            text.to_edge(UP)\n",
        "\n",
        "        self.setup(KochCurve)\n",
        "        self.add(words[0])\n",
        "        for x in range(3):\n",
        "            self.increase_order()\n",
        "        self.remove(words[0])\n",
        "        self.add(words[1])\n",
        "        for x in range(4):\n",
        "            self.increase_order()\n",
        "        self.remove(words[1])\n",
        "        self.add(words[2])\n",
        "        self.wait(6)\n",
        "\n",
        "class StraightKoch(KochCurve):\n",
        "    CONFIG = {\n",
        "        \"axiom\" : \"A\"\n",
        "    }\n",
        "\n",
        "class SharperKoch(StraightKoch):\n",
        "    CONFIG = {\n",
        "        \"angle\" : 0.9*np.pi/2,\n",
        "    }\n",
        "\n",
        "class DullerKoch(StraightKoch):\n",
        "    CONFIG = {\n",
        "        \"angle\" : np.pi/6,\n",
        "    }\n",
        "\n",
        "class SpaceFillingKoch(StraightKoch):\n",
        "    CONFIG = {\n",
        "        \"angle\" : np.pi/2,\n",
        "    }\n",
        "\n",
        "\n",
        "\n",
        "class FromKochToSpaceFilling(Scene):\n",
        "    def construct(self):\n",
        "        self.max_order = 7\n",
        "\n",
        "        self.revisit_koch()\n",
        "        self.show_angles()\n",
        "        self.show_change_side_by_side()\n",
        "\n",
        "\n",
        "    def revisit_koch(self):\n",
        "        words = list(map(TexText, [\n",
        "            \"First, look at how one section of this curve is made.\",\n",
        "            \"This pattern of four lines is the ``seed''\",\n",
        "            \"With each iteration, every straight line is \\\n",
        "            replaced with an appropriately small copy of the seed\",\n",
        "        ]))\n",
        "        for text in words:\n",
        "            text.to_edge(UP)\n",
        "\n",
        "        self.add(words[0])\n",
        "        curve = StraightKoch(order = self.max_order)\n",
        "        self.play(Transform(\n",
        "            curve,\n",
        "            StraightKoch(order = 1),\n",
        "            run_time = 5\n",
        "        ))\n",
        "        self.remove(words[0])\n",
        "        self.add(words[1])\n",
        "        self.wait(4)\n",
        "        self.remove(words[1])\n",
        "        self.add(words[2])\n",
        "        self.wait(3)\n",
        "        for order in range(2, self.max_order):\n",
        "            self.play(Transform(\n",
        "                curve,\n",
        "                StraightKoch(order = order)\n",
        "            ))\n",
        "            if order == 2:\n",
        "                self.wait(2)\n",
        "            elif order == 3:\n",
        "                self.wait()\n",
        "        self.clear()\n",
        "\n",
        "\n",
        "\n",
        "    def show_angles(self):\n",
        "        words = OldTexText(\"\"\"\n",
        "            Let's see what happens as we change\n",
        "            the angle in this seed\n",
        "        \"\"\")\n",
        "        words.to_edge(UP)\n",
        "        koch, sharper_koch, duller_koch = curves = [\n",
        "            CurveClass(order = 1)\n",
        "            for CurveClass in (StraightKoch, SharperKoch, DullerKoch)\n",
        "        ]\n",
        "        arcs = [\n",
        "            Arc(\n",
        "                2*(np.pi/2 - curve.angle),\n",
        "                radius = r,\n",
        "                start_angle = np.pi+curve.angle\n",
        "            ).shift(curve.get_points()[curve.get_num_points()/2])\n",
        "            for curve, r in zip(curves, [0.6, 0.7, 0.4])\n",
        "        ]\n",
        "        theta = OldTex(\"\\\\theta\")\n",
        "        theta.shift(arcs[0].get_center()+2.5*DOWN)\n",
        "        arrow = Arrow(theta, arcs[0])\n",
        "\n",
        "        self.add(words, koch)\n",
        "        self.play(ShowCreation(arcs[0]))\n",
        "        self.play(\n",
        "            ShowCreation(arrow),\n",
        "            ShimmerIn(theta)\n",
        "        )\n",
        "        self.wait(2)\n",
        "        self.remove(theta, arrow)\n",
        "        self.play(\n",
        "            Transform(koch, duller_koch),\n",
        "            Transform(arcs[0], arcs[2]),\n",
        "        )\n",
        "        self.play(\n",
        "            Transform(koch, sharper_koch),\n",
        "            Transform(arcs[0], arcs[1]),\n",
        "        )\n",
        "        self.clear()        \n",
        "\n",
        "    def show_change_side_by_side(self):\n",
        "\n",
        "        seed = OldTexText(\"Seed\")\n",
        "        seed.shift(3*LEFT+2*DOWN)\n",
        "        fractal = OldTexText(\"Fractal\")\n",
        "        fractal.shift(3*RIGHT+2*DOWN)\n",
        "        words = list(map(TexText, [\n",
        "            \"A sharper angle results in a richer curve\",\n",
        "            \"A more obtuse angle gives a sparser curve\",\n",
        "            \"And as the angle approaches 0\\\\dots\",\n",
        "            \"We have a new space-filling curve.\"\n",
        "        ]))\n",
        "        for text in words:\n",
        "            text.to_edge(UP)\n",
        "        sharper, duller, space_filling = [\n",
        "            CurveClass(order = 1).shift(3*LEFT)\n",
        "            for CurveClass in (SharperKoch, DullerKoch, SpaceFillingKoch)\n",
        "        ]\n",
        "        shaper_f, duller_f, space_filling_f = [\n",
        "            CurveClass(order = self.max_order).shift(3*RIGHT)\n",
        "            for CurveClass in (SharperKoch, DullerKoch, SpaceFillingKoch)\n",
        "        ]\n",
        "\n",
        "        self.add(words[0])\n",
        "        left_curve = SharperKoch(order = 1)\n",
        "        right_curve = SharperKoch(order = 1)\n",
        "        self.play(\n",
        "            Transform(left_curve, sharper),\n",
        "            ApplyMethod(right_curve.shift, 3*RIGHT),\n",
        "        )\n",
        "        self.play(\n",
        "            Transform(\n",
        "                right_curve,\n",
        "                SharperKoch(order = 2).shift(3*RIGHT)\n",
        "            ),\n",
        "            ShimmerIn(seed),\n",
        "            ShimmerIn(fractal)\n",
        "        )\n",
        "        for order in range(3, self.max_order):\n",
        "            self.play(Transform(\n",
        "                right_curve,\n",
        "                SharperKoch(order = order).shift(3*RIGHT)\n",
        "            ))\n",
        "        self.remove(words[0])\n",
        "        self.add(words[1])\n",
        "        kwargs = {\n",
        "            \"run_time\" : 4,\n",
        "        }\n",
        "        self.play(\n",
        "            Transform(left_curve, duller, **kwargs),\n",
        "            Transform(right_curve, duller_f, **kwargs)\n",
        "        )\n",
        "        self.wait()\n",
        "        kwargs[\"run_time\"] = 7\n",
        "        kwargs[\"rate_func\"] = None\n",
        "        self.remove(words[1])\n",
        "        self.add(words[2])\n",
        "        self.play(\n",
        "            Transform(left_curve, space_filling, **kwargs),\n",
        "            Transform(right_curve, space_filling_f, **kwargs)\n",
        "        )\n",
        "        self.remove(words[2])\n",
        "        self.add(words[3])\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n"
    ]
}