{
    "topic": "demonstrates the concept of counting the number of sections in a circle by dividing it into",
    "code": [
        "#!/usr/bin/env python\n",
        "\n",
        "\n",
        "import numpy as np\n",
        "import itertools as it\n",
        "import operator as op\n",
        "from copy import deepcopy\n",
        "\n",
        "from manim_imports_ext import *\n",
        "\n",
        "RADIUS = FRAME_Y_RADIUS - 0.1\n",
        "CIRCLE_DENSITY = DEFAULT_POINT_DENSITY_1D*RADIUS\n",
        "\n",
        "\n",
        "def logo_to_circle():\n",
        "    from .generate_logo import DARK_BROWN, LOGO_RADIUS\n",
        "    sc = Scene()\n",
        "    small_circle = Circle(\n",
        "        density = CIRCLE_DENSITY,\n",
        "        color = 'skyblue'\n",
        "    ).scale(LOGO_RADIUS).set_color(\n",
        "        DARK_BROWN, lambda x_y_z : x_y_z[0] < 0 and x_y_z[1] > 0\n",
        "    )\n",
        "    big_circle = Circle(density = CIRCLE_DENSITY).scale(RADIUS)\n",
        "    sc.add(small_circle)\n",
        "    sc.wait()\n",
        "    sc.animate(Transform(small_circle, big_circle))\n",
        "    return sc\n",
        "\n",
        "def count_sections(*radians):\n",
        "    sc = Scene()\n",
        "    circle = Circle(density = CIRCLE_DENSITY).scale(RADIUS)\n",
        "    sc.add(circle)\n",
        "    points = [\n",
        "        (RADIUS * np.cos(angle), RADIUS * np.sin(angle), 0)\n",
        "        for angle in radians\n",
        "    ]\n",
        "    dots = [Dot(point) for point in points]\n",
        "    interior = Region(lambda x, y : x**2 + y**2 < RADIUS**2)    \n",
        "    for x in range(1, len(points)):\n",
        "        if x == 1:\n",
        "            sc.animate(ShowCreation(dots[0]), ShowCreation(dots[1]))\n",
        "            sc.add(dots[0], dots[1])\n",
        "        else:\n",
        "            sc.animate(ShowCreation(dots[x]))\n",
        "            sc.add(dots[x])\n",
        "        new_lines = Mobject(*[\n",
        "            Line(points[x], points[y]) for y in range(x)\n",
        "        ])\n",
        "        sc.animate(Transform(deepcopy(dots[x]), new_lines, run_time = 2.0))\n",
        "        sc.add(new_lines)\n",
        "        sc.wait()\n",
        "        regions = plane_partition_from_points(*points[:x+1])\n",
        "        for reg in regions:\n",
        "            reg.intersect(interior)\n",
        "        regions = [reg for reg in regions if reg.bool_grid.any()]\n",
        "\n",
        "        last_num = None\n",
        "        for reg, count in zip(regions, it.count(1)):\n",
        "            number = OldTex(str(count)).shift((RADIUS, 3, 0))\n",
        "            sc.set_color_region(reg)\n",
        "            rt = 1.0 / (x**0.8)\n",
        "            sc.add(number)\n",
        "            sc.remove(last_num)\n",
        "            last_num = number\n",
        "            sc.wait(rt)\n",
        "            sc.reset_background()\n",
        "        sc.remove(last_num)\n",
        "        sc.animate(Transform(last_num, deepcopy(last_num).center()))\n",
        "        sc.wait()\n",
        "        sc.remove(last_num)\n",
        "    return sc\n",
        "\n",
        "def summarize_pattern(*radians):\n",
        "    sc = Scene()\n",
        "    circle = Circle(density = CIRCLE_DENSITY).scale(RADIUS)\n",
        "    sc.add(circle)\n",
        "    points = [\n",
        "        (RADIUS * np.cos(angle), RADIUS * np.sin(angle), 0)\n",
        "        for angle in radians\n",
        "    ]\n",
        "    dots = [Dot(point) for point in points]\n",
        "    last_num = None\n",
        "    for x in range(len(points)):\n",
        "        new_lines = Mobject(*[\n",
        "            Line(points[x], points[y]) for y in range(x)\n",
        "        ])\n",
        "        num = OldTex(str(moser_function(x + 1))).center()\n",
        "        sc.animate(\n",
        "            Transform(last_num, num) if last_num else ShowCreation(num),\n",
        "            FadeIn(new_lines),\n",
        "            FadeIn(dots[x]),\n",
        "            run_time = 0.5,\n",
        "        )\n",
        "        sc.remove(last_num)\n",
        "        last_num = num\n",
        "        sc.add(num, dots[x], new_lines)\n",
        "        sc.wait()\n",
        "    return sc\n",
        "\n",
        "def connect_points(*radians):\n",
        "    sc = Scene()\n",
        "    circle = Circle(density = CIRCLE_DENSITY).scale(RADIUS)\n",
        "    sc.add(circle)\n",
        "    points = [\n",
        "        (RADIUS * np.cos(angle), RADIUS * np.sin(angle), 0)\n",
        "        for angle in radians\n",
        "    ]\n",
        "    dots = [Dot(point) for point in points]\n",
        "    sc.add(*dots)\n",
        "    anims = []\n",
        "    all_lines = []\n",
        "    for x in range(len(points)):\n",
        "        lines = [Line(points[x], points[y]) for y in range(len(points))]\n",
        "        lines = Mobject(*lines)\n",
        "        anims.append(Transform(deepcopy(dots[x]), lines, run_time = 3.0))\n",
        "        all_lines.append(lines)\n",
        "    sc.animate(*anims)\n",
        "    sc.add(*all_lines)\n",
        "    sc.wait()\n",
        "    return sc\n",
        "\n",
        "def interesting_problems():\n",
        "    sc = Scene()\n",
        "    locales = [(6, 2, 0), (6, -2, 0), (-5, -2, 0)]\n",
        "    fermat = Mobject(*Texs([\"x^n\",\"+\",\"y^n\",\"=\",\"z^n\"]))\n",
        "    fermat.scale(0.5).shift((-2.5, 0.7, 0))\n",
        "    face = SimpleFace()\n",
        "    tb = ThoughtBubble().shift((-1.5, 1, 0))\n",
        "    sb = SpeechBubble().shift((-2.4, 1.3, 0))\n",
        "    fermat_copies, face_copies, tb_copies, sb_copies = (\n",
        "        Mobject(*[\n",
        "            deepcopy(mob).scale(0.5).shift(locale)\n",
        "            for locale in locales\n",
        "        ])\n",
        "        for mob in [fermat, face, tb, sb]\n",
        "    )\n",
        "\n",
        "    sc.add(face, tb)\n",
        "    sc.animate(ShowCreation(fermat, run_time = 1))\n",
        "    sc.add(fermat)\n",
        "    sc.wait()\n",
        "    sc.animate(\n",
        "        Transform(\n",
        "            deepcopy(fermat).repeat(len(locales)),\n",
        "            fermat_copies\n",
        "        ),\n",
        "        FadeIn(face_copies, run_time = 1.0)\n",
        "    )\n",
        "    sc.animate(FadeIn(tb_copies))\n",
        "    sc.wait()\n",
        "    sc.animate(\n",
        "        Transform(tb, sb),\n",
        "        Transform(tb_copies, sb_copies)\n",
        "    )\n",
        "    return sc\n",
        "\n",
        "def response_invitation():\n",
        "    sc = Scene()\n",
        "    video_icon = VideoIcon()\n",
        "    mini_videos = Mobject(*[\n",
        "        deepcopy(video_icon).scale(0.5).shift((3, y, 0))\n",
        "        for y in [-2, 0, 2]\n",
        "    ])\n",
        "    comments = Mobject(*[\n",
        "        Line((-1.2, y, 0), (1.2, y, 0), color = 'white')\n",
        "        for y in [-1.5, -1.75, -2]\n",
        "    ])\n",
        "\n",
        "    sc.add(video_icon)\n",
        "    sc.wait()\n",
        "    sc.animate(Transform(deepcopy(video_icon).repeat(3), mini_videos))\n",
        "    sc.add(mini_videos)\n",
        "    sc.wait()\n",
        "    sc.animate(ShowCreation(comments, run_time = 1.0))\n",
        "    return sc\n",
        "\n",
        "def different_points(radians1, radians2):\n",
        "    sc = Scene()\n",
        "    circle = Circle(density = CIRCLE_DENSITY).scale(RADIUS)\n",
        "    sc.add(circle)\n",
        "    points1, points2 = (\n",
        "        [\n",
        "            (RADIUS * np.cos(angle), RADIUS * np.sin(angle), 0)\n",
        "            for angle in radians\n",
        "        ]\n",
        "        for radians in (radians1, radians2)\n",
        "    )\n",
        "    dots1, dots2 = (\n",
        "        Mobject(*[Dot(point) for point in points])\n",
        "        for points in (points1, points2)\n",
        "    )\n",
        "    lines1, lines2 = (\n",
        "        [\n",
        "            Line(point1, point2)\n",
        "            for point1, point2 in it.combinations(points, 2)\n",
        "        ]\n",
        "        for points in (points1, points2)\n",
        "    )\n",
        "    sc.add(dots1, *lines1)\n",
        "    sc.animate(\n",
        "        Transform(dots1, dots2, run_time = 3),\n",
        "        *[\n",
        "            Transform(line1, line2, run_time = 3)\n",
        "            for line1, line2 in zip(lines1, lines2)\n",
        "        ]\n",
        "    )\n",
        "    sc.wait()\n",
        "    return sc\n",
        "\n",
        "def next_few_videos(*radians):\n",
        "    sc = Scene()\n",
        "    circle = Circle(density = CIRCLE_DENSITY).scale(RADIUS)\n",
        "    points = [\n",
        "        (RADIUS * np.cos(angle), RADIUS * np.sin(angle), 0)\n",
        "        for angle in radians\n",
        "    ]\n",
        "    dots = Mobject(*[\n",
        "        Dot(point) for point in points\n",
        "    ])\n",
        "    lines = Mobject(*[\n",
        "        Line(point1, point2)\n",
        "        for point1, point2 in it.combinations(points, 2)\n",
        "    ])\n",
        "    thumbnail = Mobject(circle, dots, lines)\n",
        "    frame = VideoIcon().set_color(\n",
        "        \"black\",\n",
        "        lambda point : get_norm(point) < 0.5\n",
        "    )\n",
        "    big_frame = deepcopy(frame).scale(FRAME_X_RADIUS)\n",
        "    frame.shift((-5, 0, 0))\n",
        "\n",
        "    sc.add(thumbnail)\n",
        "    sc.wait()\n",
        "    sc.animate(\n",
        "        Transform(big_frame, frame),\n",
        "        Transform(\n",
        "            thumbnail, \n",
        "            deepcopy(thumbnail).scale(0.15).shift((-5, 0, 0))\n",
        "        )\n",
        "    )\n",
        "    sc.add(frame, thumbnail)\n",
        "    sc.wait()\n",
        "    last = frame\n",
        "    for x in [-2, 1, 4]:\n",
        "        vi = VideoIcon().shift((x, 0, 0))\n",
        "        sc.animate(\n",
        "            Transform(deepcopy(last), vi),\n",
        "            Animation(thumbnail)#Keeps it from getting burried\n",
        "        )\n",
        "        sc.add(vi)\n",
        "        last = vi\n",
        "    return sc\n",
        "\n",
        "\n",
        "\n",
        "if __name__ == '__main__':\n",
        "    radians = [1, 3, 5, 2, 4, 6]\n",
        "    more_radians = radians + [10, 13, 20, 17, 15, 21, 18.5]\n",
        "    different_radians = [1.7, 4.8, 3.2, 3.5, 2.1, 5.5]\n",
        "    # logo_to_circle().write_to_movie(\"moser/LogoToCircle\")\n",
        "    # count_sections(*radians).write_to_movie(\"moser/CountingSections\")\n",
        "    # summarize_pattern(*radians).write_to_movie(\"moser/SummarizePattern\")\n",
        "    # interesting_problems().write_to_movie(\"moser/InterestingProblems\")\n",
        "    # summarize_pattern(*more_radians).write_to_movie(\"moser/ExtendedPattern\")\n",
        "    # connect_points(*radians).write_to_movie(\"moser/ConnectPoints\")\n",
        "    # response_invitation().write_to_movie(\"moser/ResponseInvitation\")\n",
        "    # different_points(radians, different_radians).write_to_movie(\"moser/DifferentPoints\")\n",
        "    # next_few_videos(*radians).write_to_movie(\"moser/NextFewVideos\")\n",
        "    # summarize_pattern(*different_radians).write_to_movie(\"moser/PatternWithDifferentPoints\")\n",
        "\n",
        "    #Images\n",
        "    # OldTex(r\"\"\"\n",
        "    #     \\Underbrace{1, 2, 4, 8, 16, 31, \\dots}_\\text{What?}\n",
        "    # \"\"\").save_image(\"moser/NumberList31\")\n",
        "    # OldTex(\"\"\"\n",
        "    #     1, 2, 4, 8, 16, 32, 63, \\dots\n",
        "    # \"\"\").save_image(\"moser/NumberList63\")\n",
        "    # OldTex(\"\"\"\n",
        "    #     1, 2, 4, 8, 15, \\dots\n",
        "    # \"\"\").save_image(\"moser/NumberList15\")\n",
        "    \n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n"
    ]
}