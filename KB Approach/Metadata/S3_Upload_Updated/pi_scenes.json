{
    "topic": "The mathematical concept being demonstrated is the Pythagorean theorem, specifically the relationship between the",
    "code": [
        "from manim_imports_ext import *\n",
        "from _2019.diffyq.part1.shared_constructs import *\n",
        "\n",
        "\n",
        "class SomeOfYouWatching(TeacherStudentsScene):\n",
        "    CONFIG = {\n",
        "        \"camera_config\": {\n",
        "            \"background_color\": GREY_E,\n",
        "        }\n",
        "    }\n",
        "\n",
        "    def construct(self):\n",
        "        screen = self.screen\n",
        "        screen.scale(1.25, about_edge=UL)\n",
        "        screen.set_fill(BLACK, 1)\n",
        "        self.add(screen)\n",
        "\n",
        "        self.teacher.change(\"raise_right_hand\")\n",
        "        for student in self.students:\n",
        "            student.change(\"pondering\", screen)\n",
        "\n",
        "        self.student_says(\n",
        "            \"Well...yeah\",\n",
        "            target_mode=\"tease\"\n",
        "        )\n",
        "        self.wait(3)\n",
        "\n",
        "\n",
        "class FormulasAreLies(PiCreatureScene):\n",
        "    def construct(self):\n",
        "        you = self.pi_creature\n",
        "        t2c = {\n",
        "            \"{L}\": BLUE,\n",
        "            \"{g}\": YELLOW,\n",
        "            \"\\\\theta_0\": WHITE,\n",
        "            \"\\\\sqrt{\\\\,\": WHITE,\n",
        "        }\n",
        "        kwargs = {\"tex_to_color_map\": t2c}\n",
        "        period_eq = OldTex(\n",
        "            \"\\\\text{Period} = 2\\\\pi \\\\sqrt{\\\\,{L} / {g}}\",\n",
        "            **kwargs\n",
        "        )\n",
        "        theta_eq = OldTex(\n",
        "            \"\\\\theta(t) = \\\\theta_0 \\\\cos\\\\left(\"\n",
        "            \"\\\\sqrt{\\\\,{L} / {g}} \\\\cdot t\"\n",
        "            \"\\\\right)\",\n",
        "            **kwargs\n",
        "        )\n",
        "        equations = VGroup(theta_eq, period_eq)\n",
        "        equations.arrange(DOWN, buff=LARGE_BUFF)\n",
        "\n",
        "        for eq in period_eq, theta_eq:\n",
        "            i = eq.index_of_part_by_tex(\"\\\\sqrt\")\n",
        "            eq.sqrt_part = eq[i:i + 4]\n",
        "\n",
        "        theta0 = theta_eq.get_part_by_tex(\"\\\\theta_0\")\n",
        "        theta0_words = OldTexText(\"Starting angle\")\n",
        "        theta0_words.next_to(theta0, UL)\n",
        "        theta0_words.shift(UP + 0.5 * RIGHT)\n",
        "        arrow = Arrow(\n",
        "            theta0_words.get_bottom(),\n",
        "            theta0,\n",
        "            color=WHITE,\n",
        "            tip_length=0.25,\n",
        "        )\n",
        "\n",
        "        bubble = SpeechBubble()\n",
        "        bubble.pin_to(you)\n",
        "        bubble.write(\"Lies!\")\n",
        "        bubble.content.scale(2)\n",
        "        bubble.resize_to_content()\n",
        "\n",
        "        self.add(period_eq)\n",
        "        you.change(\"pondering\", period_eq)\n",
        "        self.wait()\n",
        "        theta_eq.remove(*theta_eq.sqrt_part)\n",
        "        self.play(\n",
        "            TransformFromCopy(\n",
        "                period_eq.sqrt_part,\n",
        "                theta_eq.sqrt_part,\n",
        "            ),\n",
        "            FadeIn(theta_eq)\n",
        "        )\n",
        "        theta_eq.add(*theta_eq.sqrt_part)\n",
        "        self.play(\n",
        "            FadeIn(theta0_words, LEFT),\n",
        "            GrowArrow(arrow),\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(you.change, \"confused\")\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            you.change, \"angry\",\n",
        "            ShowCreation(bubble),\n",
        "            FadeInFromPoint(bubble.content, you.mouth),\n",
        "            equations.to_edge, LEFT,\n",
        "            FadeOut(arrow),\n",
        "            FadeOut(theta0_words),\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "    def create_pi_creature(self):\n",
        "        return You().flip().to_corner(DR)\n",
        "\n",
        "\n",
        "# class TourOfDifferentialEquations(Scene):\n",
        "#     def construct(self):\n",
        "#         pass\n",
        "\n",
        "\n",
        "class SoWhatIsThetaThen(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        ode = get_ode()\n",
        "        ode.to_corner(UL)\n",
        "        self.add(ode)\n",
        "\n",
        "        self.student_says(\n",
        "            \"Okay, but then\\\\\\\\\"\n",
        "            \"what \\\\emph{is} $\\\\theta(t)$?\"\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(self.teacher.change, \"happy\")\n",
        "        self.wait(2)\n",
        "        self.teacher_says(\n",
        "            \"First, you must appreciate\\\\\\\\\"\n",
        "            \"a deep truth...\",\n",
        "            added_anims=[self.change_students(\n",
        "                *3 * [\"confused\"]\n",
        "            )]\n",
        "        )\n",
        "        self.wait(4)\n",
        "\n",
        "\n",
        "class ProveTeacherWrong(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        tex_config = {\n",
        "            \"tex_to_color_map\": {\n",
        "                \"{\\\\theta}\": BLUE,\n",
        "                \"{\\\\dot\\\\theta}\": YELLOW,\n",
        "                \"{\\\\ddot\\\\theta}\": RED,\n",
        "            }\n",
        "        }\n",
        "        func = OldTex(\n",
        "            \"{\\\\theta}(t)\", \"=\",\n",
        "            \"\\\\theta_0\", \"\\\\cos(\\\\sqrt{g / L} \\\\cdot t)\",\n",
        "            **tex_config,\n",
        "        )\n",
        "        d_func = OldTex(\n",
        "            \"{\\\\dot\\\\theta}(t)\", \"=\",\n",
        "            \"-\\\\left(\\\\sqrt{g / L}\\\\right)\",\n",
        "            \"\\\\theta_0\", \"\\\\sin(\\\\sqrt{g / L} \\\\cdot t)\",\n",
        "            **tex_config,\n",
        "        )\n",
        "        dd_func = OldTex(\n",
        "            \"{\\\\ddot\\\\theta}(t)\", \"=\",\n",
        "            \"-\\\\left(g / L\\\\right)\",\n",
        "            \"\\\\theta_0\", \"\\\\cos(\\\\sqrt{g / L} \\\\cdot t)\",\n",
        "            **tex_config,\n",
        "        )\n",
        "        # ode = OldTex(\n",
        "        #     \"\\\\ddot {\\\\theta}({t})\", \"=\",\n",
        "        #     \"-\\\\mu \\\\dot {\\\\theta}({t})\",\n",
        "        #     \"-{g \\\\over L} \\\\sin\\\\big({\\\\theta}({t})\\\\big)\",\n",
        "        #     **tex_config,\n",
        "        # )\n",
        "        ode = get_ode()\n",
        "        arrows = [Tex(\"\\\\Downarrow\") for x in range(2)]\n",
        "\n",
        "        VGroup(func, d_func, dd_func, ode, *arrows).scale(0.7)\n",
        "\n",
        "        teacher = self.teacher\n",
        "        you = self.students[2]\n",
        "\n",
        "        self.student_thinks(ode)\n",
        "        you.add_updater(lambda m: m.look_at(func))\n",
        "        self.teacher_holds_up(func)\n",
        "        self.wait()\n",
        "\n",
        "        group = VGroup(arrows[0], d_func, arrows[1], dd_func)\n",
        "        group.arrange(DOWN)\n",
        "        group.move_to(func, DOWN)\n",
        "\n",
        "        arrow = Arrow(\n",
        "            group.get_corner(UL),\n",
        "            ode.get_top(),\n",
        "            path_arc=PI / 2,\n",
        "        )\n",
        "        q_marks = VGroup(*[\n",
        "            OldTex(\"?\").scale(1.5).next_to(\n",
        "                arrow.point_from_proportion(a),\n",
        "                UP\n",
        "            )\n",
        "            for a in np.linspace(0.2, 0.8, 5)\n",
        "        ])\n",
        "        cycle_animation(VFadeInThenOut(\n",
        "            q_marks,\n",
        "            lag_ratio=0.2,\n",
        "            run_time=4,\n",
        "            rate_func=squish_rate_func(smooth, 0, 0.5)\n",
        "        ))\n",
        "\n",
        "        self.play(\n",
        "            func.next_to, group, UP,\n",
        "            LaggedStartMap(\n",
        "                FadeInFrom, group,\n",
        "                lambda m: (m, UP)\n",
        "            ),\n",
        "            teacher.change, \"guilty\",\n",
        "            you.change, \"sassy\",\n",
        "        )\n",
        "\n",
        "        rect = SurroundingRectangle(\n",
        "            VGroup(group, func)\n",
        "        )\n",
        "        dashed_rect = DashedVMobject(rect, num_dashes=75)\n",
        "        animated_rect = AnimatedBoundary(dashed_rect, cycle_rate=1)\n",
        "\n",
        "        self.wait()\n",
        "        self.add(animated_rect, q_marks)\n",
        "        self.play(\n",
        "            ShowCreation(arrow),\n",
        "            # FadeInFromDown(q_mark),\n",
        "            self.change_students(\"confused\", \"confused\")\n",
        "        )\n",
        "        self.wait(4)\n",
        "        self.play_student_changes(\n",
        "            *3 * [\"pondering\"],\n",
        "            self.teacher.change, \"maybe\"\n",
        "        )\n",
        "        self.wait(8)\n",
        "\n",
        "\n",
        "class PhysicistPhaseSpace(PiCreatureScene):\n",
        "    def construct(self):\n",
        "        physy = self.pi_creature\n",
        "        name = OldTexText(\"Physicist\")\n",
        "        name.scale(1.5)\n",
        "        name.to_corner(DL, buff=MED_SMALL_BUFF)\n",
        "        physy.next_to(name, UP, SMALL_BUFF)\n",
        "        VGroup(name, physy).shift_onto_screen()\n",
        "\n",
        "        axes = Axes(\n",
        "            x_min=-1,\n",
        "            x_max=10,\n",
        "            y_min=-1,\n",
        "            y_max=7,\n",
        "        )\n",
        "        axes.set_height(6)\n",
        "        axes.next_to(physy, RIGHT)\n",
        "        axes.to_edge(UP)\n",
        "        axes.set_stroke(width=1)\n",
        "        x_label = OldTexText(\"Position\")\n",
        "        x_label.next_to(axes.x_axis.get_right(), UP)\n",
        "        y_label = OldTexText(\"Momentum\")\n",
        "        y_label.next_to(axes.y_axis.get_top(), RIGHT)\n",
        "\n",
        "        title = OldTexText(\"Phase space\")\n",
        "        title.scale(1.5)\n",
        "        title.set_color(YELLOW)\n",
        "        title.move_to(axes)\n",
        "\n",
        "        self.add(name, physy)\n",
        "\n",
        "        self.play(\n",
        "            physy.change, \"angry\",\n",
        "            Write(axes),\n",
        "            FadeInFromDown(title)\n",
        "        )\n",
        "        self.wait(2)\n",
        "        self.play(\n",
        "            GrowFromPoint(x_label, physy.get_corner(UR)),\n",
        "            physy.change, \"raise_right_hand\",\n",
        "            axes.x_axis.get_right()\n",
        "        )\n",
        "        self.play(\n",
        "            GrowFromPoint(y_label, physy.get_corner(UR)),\n",
        "            physy.look_at, axes.y_axis.get_top(),\n",
        "        )\n",
        "        self.wait(3)\n",
        "\n",
        "    def create_pi_creature(self):\n",
        "        return PiCreature(color=GREY).to_corner(DL)\n",
        "\n",
        "\n",
        "class AskAboutActuallySolving(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        ode = get_ode()\n",
        "        ode.to_corner(UL)\n",
        "        self.add(ode)\n",
        "        morty = self.teacher\n",
        "\n",
        "        self.student_says(\n",
        "            \"Yeah yeah, but how do\\\\\\\\\"\n",
        "            \"you actually \\\\emph{solve} it?\",\n",
        "            index=1,\n",
        "            target_mode=\"sassy\",\n",
        "            added_anims=[morty.change, \"thinking\"],\n",
        "        )\n",
        "        self.play_student_changes(\n",
        "            \"confused\", \"sassy\", \"confused\",\n",
        "            look_at=ode,\n",
        "        )\n",
        "        self.wait()\n",
        "        self.teacher_says(\n",
        "            \"What do you mean\\\\\\\\ by ``solve''?\",\n",
        "            target_mode=\"speaking\",\n",
        "            added_anims=[self.change_students(\n",
        "                *3 * [\"erm\"]\n",
        "            )]\n",
        "        )\n",
        "        self.play(self.students[1].change, \"angry\")\n",
        "        self.wait(3)\n",
        "\n",
        "\n",
        "class HungerForExactness(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        students = self.students\n",
        "        you = students[2]\n",
        "        teacher = self.teacher\n",
        "\n",
        "        ode = get_ode()\n",
        "        ode.to_corner(UL)\n",
        "        left_part = ode[:5]\n",
        "        friction_part = ode[5:11]\n",
        "        self.add(ode)\n",
        "\n",
        "        proposed_solution = OldTex(\n",
        "            \"\\\\theta_0\\\\cos((\\\\sqrt{g/L})t)e^{-\\\\mu t}\"\n",
        "        )\n",
        "        proposed_solution.next_to(\n",
        "            you.get_corner(UL), UP, buff=0.7\n",
        "        )\n",
        "        proposed_solution_rect = SurroundingRectangle(\n",
        "            proposed_solution, buff=MED_SMALL_BUFF,\n",
        "        )\n",
        "        proposed_solution_rect.set_color(BLUE)\n",
        "        proposed_solution_rect.round_corners()\n",
        "\n",
        "        solution_p1 = OldTex(\n",
        "            \"\"\"\n",
        "            \\\\theta(t) = 2\\\\text{am}\\\\left(\n",
        "                \\\\frac{\\\\sqrt{2g + Lc_1} (t + c_2)}{2\\\\sqrt{L}},\n",
        "                \\\\frac{4g}{2g + Lc_1}\n",
        "            \\\\right)\n",
        "            \"\"\",\n",
        "        )\n",
        "        solution_p1.to_corner(UL)\n",
        "        solution_p2 = OldTex(\n",
        "            \"c_1, c_2 = \\\\text{Constants depending on initial conditions}\"\n",
        "        )\n",
        "        solution_p2.set_color(GREY_B)\n",
        "        solution_p2.scale(0.75)\n",
        "        solution_p3 = OldTex(\n",
        "            \"\"\"\n",
        "            \\\\text{am}(u, k) =\n",
        "            \\\\int_0^u \\\\text{dn}(v, k)\\\\,dv\n",
        "            \"\"\"\n",
        "        )\n",
        "        solution_p3.name = OldTexText(\n",
        "            \"(Jacobi amplitude function)\"\n",
        "        )\n",
        "        solution_p4 = OldTex(\n",
        "            \"\"\"\n",
        "            \\\\text{dn}(u, k) =\n",
        "            \\\\sqrt{1 - k^2 \\\\sin^2(\\\\phi)}\n",
        "            \"\"\"\n",
        "        )\n",
        "        solution_p4.name = OldTexText(\n",
        "            \"(Jacobi elliptic function)\"\n",
        "        )\n",
        "        solution_p5 = OldTexText(\"Where $\\\\phi$ satisfies\")\n",
        "        solution_p6 = OldTex(\n",
        "            \"\"\"\n",
        "            u = \\\\int_0^\\\\phi \\\\frac{dt}{\\\\sqrt{1 - k^2 \\\\sin^2(t)}}\n",
        "            \"\"\"\n",
        "        )\n",
        "\n",
        "        solution = VGroup(\n",
        "            solution_p1,\n",
        "            solution_p2,\n",
        "            solution_p3,\n",
        "            solution_p4,\n",
        "            solution_p5,\n",
        "            solution_p6,\n",
        "        )\n",
        "        solution.arrange(DOWN)\n",
        "        solution.scale(0.7)\n",
        "        solution.to_corner(UL, buff=MED_SMALL_BUFF)\n",
        "        solution.set_stroke(width=0, background=True)\n",
        "\n",
        "        solution.remove(solution_p2)\n",
        "        solution_p1.add(solution_p2)\n",
        "        solution.remove(solution_p5)\n",
        "        solution_p6.add(solution_p5)\n",
        "\n",
        "        for part in [solution_p3, solution_p4]:\n",
        "            part.name.scale(0.7 * 0.7)\n",
        "            part.name.set_color(GREY_B)\n",
        "            part.name.next_to(part, RIGHT)\n",
        "            part.add(part.name)\n",
        "\n",
        "        self.student_says(\n",
        "            \"Right, but like,\\\\\\\\\"\n",
        "            \"what \\\\emph{is} $\\\\theta(t)$?\",\n",
        "            target_mode=\"sassy\",\n",
        "            added_anims=[teacher.change, \"guilty\"],\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            FadeInFromDown(proposed_solution),\n",
        "            RemovePiCreatureBubble(\n",
        "                you,\n",
        "                target_mode=\"raise_left_hand\",\n",
        "                look_at=proposed_solution,\n",
        "            ),\n",
        "            teacher.change, \"pondering\",\n",
        "            students[0].change, \"pondering\",\n",
        "            students[1].change, \"hesitant\",\n",
        "        )\n",
        "        self.play(ShowCreation(proposed_solution_rect))\n",
        "        self.play(\n",
        "            proposed_solution.shift, 3 * RIGHT,\n",
        "            proposed_solution_rect.shift, 3 * RIGHT,\n",
        "            you.change, \"raise_right_hand\", teacher.eyes,\n",
        "        )\n",
        "        self.wait(3)\n",
        "\n",
        "        self.play(\n",
        "            FadeOut(proposed_solution),\n",
        "            FadeOut(proposed_solution_rect),\n",
        "            ode.move_to, self.hold_up_spot, DOWN,\n",
        "            ode.shift, LEFT,\n",
        "            teacher.change, \"raise_right_hand\",\n",
        "            self.change_students(*3 * [\"pondering\"])\n",
        "        )\n",
        "        self.wait()\n",
        "        ode.save_state()\n",
        "        self.play(\n",
        "            left_part.move_to, friction_part, RIGHT,\n",
        "            left_part.match_y, left_part,\n",
        "            friction_part.to_corner, DR,\n",
        "            friction_part.fade, 0.5,\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "        modes = [\"erm\", \"sad\", \"sad\", \"horrified\"]\n",
        "        for part, mode in zip(solution, modes):\n",
        "            self.play(\n",
        "                FadeIn(part, UP),\n",
        "                self.change_students(\n",
        "                    *3 * [mode],\n",
        "                    look_at=part,\n",
        "                )\n",
        "            )\n",
        "            self.wait()\n",
        "        self.wait(3)\n",
        "        self.play_student_changes(\"tired\", \"sad\", \"concerned_musician\")\n",
        "        self.wait(4)\n",
        "        self.look_at(solution)\n",
        "        self.wait(5)\n",
        "        self.play(\n",
        "            FadeOut(solution, 2 * LEFT),\n",
        "            Restore(ode),\n",
        "            self.change_students(\n",
        "                \"sick\", \"angry\", \"tired\",\n",
        "            )\n",
        "        )\n",
        "        self.wait(3)\n",
        "\n",
        "        mystery = OldTex(\n",
        "            \"\\\\theta(t) = ???\",\n",
        "            tex_to_color_map={\"\\\\theta\": BLUE},\n",
        "        )\n",
        "        mystery.scale(2)\n",
        "        mystery.to_edge(UP)\n",
        "        mystery.set_stroke(width=0, background=True)\n",
        "        mystery_boundary = AnimatedBoundary(\n",
        "            mystery, stroke_width=1\n",
        "        )\n",
        "\n",
        "        self.play(\n",
        "            FadeInFromDown(mystery),\n",
        "            self.teacher.change, \"pondering\"\n",
        "        )\n",
        "        self.add(mystery_boundary, mystery)\n",
        "        self.play_all_student_changes(\"sad\")\n",
        "        self.look_at(mystery)\n",
        "        self.wait(5)\n",
        "\n",
        "        # Define\n",
        "        self.student_says(\n",
        "            \"Let $\\\\text{P}(\\\\mu, g, L; t)$ be a\\\\\\\\\"\n",
        "            \"function satisfying this ODE.\",\n",
        "            index=0,\n",
        "            target_mode=\"speaking\",\n",
        "            added_anims=[\n",
        "                FadeOut(mystery),\n",
        "                FadeOut(mystery_boundary),\n",
        "                ode.to_corner, UR\n",
        "            ]\n",
        "        )\n",
        "        self.play_student_changes(\n",
        "            \"hooray\", \"sassy\", \"sassy\",\n",
        "            look_at=students[0].eyes.get_corner(UR),\n",
        "        )\n",
        "        self.wait(2)\n",
        "\n",
        "\n",
        "class ItGetsWorse(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        self.teacher_says(\"It gets\\\\\\\\worse\")\n",
        "        self.play_student_changes(\n",
        "            \"hesitant\", \"pleading\", \"erm\"\n",
        "        )\n",
        "        self.wait(5)\n"
    ]
}