{
    "topic": "The mathematical concept being demonstrated is the ability to create a quantum computer symbol using Manim animation code",
    "code": [
        "from manim_imports_ext import *\n",
        "from _2025.blocks_and_grover.state_vectors import *\n",
        "\n",
        "\n",
        "def get_quantum_computer_symbol(height=2, color=GREY_B, symbol_tex=R\"|Q\\rangle\", symbol_color=TEAL):\n",
        "    chip = SVGMobject(\"computer_chip\")\n",
        "    chip.set_height(height)\n",
        "    chip.to_edge(RIGHT)\n",
        "    chip.set_fill(GREY_C)\n",
        "    chip.set_shading(0.7, 0, 0)\n",
        "    symbol = Tex(symbol_tex)\n",
        "    symbol.set_fill(symbol_color)\n",
        "    symbol.set_stroke(symbol_color, 1)\n",
        "    symbol.set_height(0.4 * chip.get_height())\n",
        "    symbol.move_to(chip)\n",
        "\n",
        "    result = VGroup(chip, symbol)\n",
        "    return result\n",
        "\n",
        "\n",
        "def get_classical_computer_symbol(height=2, color=GREY_B, symbol_tex=R\"\\mathcal{C}\", symbol_color=YELLOW):\n",
        "    return get_quantum_computer_symbol(height, color, symbol_tex, symbol_color)\n",
        "\n",
        "\n",
        "def get_blackbox_machine(height=2, color=GREY_D, label_tex=\"f(n)\", label_height_ratio=0.25):\n",
        "    square = Square(height)\n",
        "    in_tri = ArrowTip().set_height(0.5 * height)\n",
        "    out_tri = in_tri.copy().rotate(PI)\n",
        "    in_tri.move_to(square.get_left())\n",
        "    out_tri.move_to(square.get_right())\n",
        "    machine = Union(square, in_tri, out_tri)\n",
        "    machine.set_fill(color, 1)\n",
        "    machine.set_stroke(WHITE, 2)\n",
        "\n",
        "    label = Tex(label_tex)\n",
        "    label.set_height(label_height_ratio * height)\n",
        "    label.move_to(machine)\n",
        "    machine.add(label)\n",
        "\n",
        "    machine.output_group = VGroup()\n",
        "\n",
        "    return machine\n",
        "\n",
        "\n",
        "def get_bit_circuit(n_bits=4):\n",
        "    circuit = SVGMobject(\"BitCircuit\")\n",
        "    circuit.set_stroke(WHITE, 2)\n",
        "    circuit[-2:].set_fill(WHITE, 1)\n",
        "    result = circuit.get_grid(1, n_bits, buff=0)\n",
        "    return result\n",
        "\n",
        "\n",
        "def get_magnifying_glass(height=3.0, color=GREY_D):\n",
        "    glass = SVGMobject(\"magnifying_glass2\")\n",
        "    glass.set_fill(GREY_D)\n",
        "    glass.set_shading(0.35, 0.15, 0.5)\n",
        "    circle = VMobject().set_points(glass[0].get_subpaths()[1])\n",
        "    circle.set_fill(GREEN_SCREEN, 1, border_width=3)\n",
        "    circle.set_stroke(width=0)\n",
        "    glass.add_to_back(circle)\n",
        "    glass.set_height(height)\n",
        "    return glass\n",
        "\n",
        "\n",
        "def get_key_icon(height=0.5):\n",
        "    key_icon = SVGMobject(\"key\").rotate(135 * DEG)\n",
        "    key_icon.set_fill(YELLOW)\n",
        "    key_icon.set_height(height)\n",
        "    return key_icon\n",
        "\n",
        "\n",
        "class Superposition(Group):\n",
        "    def __init__(\n",
        "        self,\n",
        "        pieces,\n",
        "        offset_multiple=0.2,\n",
        "        max_rot_vel=3,\n",
        "        glow_color=TEAL,\n",
        "        glow_stroke_range=(1, 22, 4),\n",
        "        glow_stroke_opacity=0.05\n",
        "    ):\n",
        "        self.pieces = pieces\n",
        "        self.center_points = Group(\n",
        "            Point(piece.get_center())\n",
        "            for piece in pieces\n",
        "        )\n",
        "        self.offset_multipler = ValueTracker(offset_multiple)\n",
        "\n",
        "        for piece, point_mob in zip(pieces, self.center_points):\n",
        "            piece.center_point = point_mob\n",
        "\n",
        "            piece.offset_vect = rotate_vector(RIGHT, np.random.uniform(0, TAU))\n",
        "            piece.offset_vect_rot_vel = np.random.uniform(-max_rot_vel, max_rot_vel)\n",
        "\n",
        "        glow_strokes = np.arange(*glow_stroke_range)\n",
        "        glows = pieces.replicate(len(glow_strokes))\n",
        "        glows.set_fill(opacity=0)\n",
        "        glows.set_joint_type('no_joint')\n",
        "        for glow, sw in zip(glows, glow_strokes):\n",
        "            glow.set_stroke(glow_color, width=float(sw), opacity=glow_stroke_opacity)\n",
        "\n",
        "        self.glows = glows\n",
        "\n",
        "        super().__init__(glows, pieces, self.center_points, self.offset_multipler)\n",
        "        self.add_updater(lambda m, dt: m.update_piece_positions(dt))\n",
        "\n",
        "    def update_piece_positions(self, dt):\n",
        "        offset_multiple = self.offset_multipler.get_value()\n",
        "\n",
        "        for piece in self.pieces:\n",
        "            piece.offset_vect = rotate_vector(piece.offset_vect, dt * piece.offset_vect_rot_vel)\n",
        "            piece.offset_radius = offset_multiple\n",
        "            piece.move_to(piece.center_point.get_center() + piece.offset_radius * piece.offset_vect)\n",
        "\n",
        "        for glow in self.glows:\n",
        "            for sm1, sm2 in zip(glow.family_members_with_points(), self.pieces.family_members_with_points()):\n",
        "                sm1.match_points(sm2)\n",
        "\n",
        "    def set_offset_multiple(self, value):\n",
        "        self.offset_multipler.set_value(value)\n",
        "\n",
        "    def set_glow_opacity(self, opacity=0.1):\n",
        "        self.glows.set_stroke(opacity=opacity)\n",
        "\n",
        "\n",
        "###\n",
        "\n",
        "\n",
        "class ReferenceSummary(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Laptop\n",
        "        laptop = Laptop()\n",
        "        self.frame.reorient(85, 79, 0, (-1.04, -1.42, 0.47), 6.97)\n",
        "        self.add(laptop)\n",
        "\n",
        "        # Randy\n",
        "        randy = Randolph(mode=\"thinking\", height=4)\n",
        "        randy.body.insert_n_curves(100)\n",
        "        randy.fix_in_frame()\n",
        "        randy.next_to(ORIGIN, LEFT)\n",
        "        randy.look_at(2 * RIGHT)\n",
        "\n",
        "        self.add(randy)\n",
        "        self.play(Blink(randy))\n",
        "        self.wait()\n",
        "        self.play(Blink(randy))\n",
        "        self.play(randy.change(\"confused\").fix_in_frame())\n",
        "        self.wait(2)\n",
        "        self.play(Blink(randy))\n",
        "        self.wait(2)\n",
        "\n",
        "\n",
        "class WriteQuantumComputingTitle(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        title = Text(\"Quantum Computing\", font_size=120)\n",
        "        title.move_to(UP)\n",
        "        subtitle = Tex(R\"\\frac{1}{\\sqrt{2}}\\big(|0\\rangle + |1\\rangle \\big)\", font_size=90)\n",
        "        subtitle.next_to(title, DOWN, LARGE_BUFF)\n",
        "        title.set_color(TEAL)\n",
        "\n",
        "        self.add(title, subtitle)\n",
        "        self.play(LaggedStart(\n",
        "            Flash(letter, color=TEAL, flash_radius=1.0, line_stroke_width=2)\n",
        "            for letter in title\n",
        "        ))\n",
        "\n",
        "\n",
        "class MentionQuiz(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        morty = self.teacher\n",
        "\n",
        "        to_confusion = VGroup(\n",
        "            Vector(1.5 * RIGHT, thickness=6),\n",
        "            Text(\"???\", font_size=90).space_out_submobjects(1.5)\n",
        "        )\n",
        "        to_confusion.arrange(RIGHT)\n",
        "        to_confusion.next_to(self.screen, RIGHT)\n",
        "        to_confusion.shift(0.5 * UP + LEFT)\n",
        "\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(1000)\n",
        "\n",
        "        self.play(\n",
        "            morty.change(\"angry\", self.screen),\n",
        "            self.change_students(\"thinking\", \"tease\", \"confused\", look_at=self.screen),\n",
        "        )\n",
        "        self.wait(2)\n",
        "        self.play(\n",
        "            morty.change(\"raise_right_hand\", to_confusion),\n",
        "            self.change_students(\"erm\", \"guilty\", \"hesitant\"),\n",
        "            FadeInFromPoint(to_confusion, morty.get_corner(UL), lag_ratio=0.1),\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(morty.says(\"Quiz time!\"))\n",
        "        self.wait(3)\n",
        "\n",
        "\n",
        "class QuizMarks(InteractiveScene):\n",
        "    def construct(self):\n",
        "        marks = VGroup(\n",
        "            Exmark().set_color(RED),\n",
        "            Exmark().set_color(RED),\n",
        "            Checkmark().set_color(GREEN),\n",
        "            Exmark().set_color(RED),\n",
        "        )\n",
        "        marks.arrange(DOWN).scale(2)\n",
        "        self.add(marks)\n",
        "\n",
        "\n",
        "class SimpleScreenReference(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        morty = self.teacher\n",
        "\n",
        "        self.play(\n",
        "            morty.change(\"hesitant\"),\n",
        "            self.change_students(\"erm\", \"concentrating\", \"sassy\", look_at=self.screen)\n",
        "        )\n",
        "        self.wait(5)\n",
        "\n",
        "\n",
        "class StudentsCommentOnQuiz(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # Ask about quantum computer\n",
        "        morty = self.teacher\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(100)\n",
        "\n",
        "        qc = get_quantum_computer_symbol(height=1.5)\n",
        "        qc.move_to(self.hold_up_spot, DOWN)\n",
        "        qc_outline = qc.copy()\n",
        "        qc_outline.set_fill(opacity=0).set_stroke(TEAL, 2)\n",
        "\n",
        "        q_marks = VGroup(\n",
        "            Text(\"?!?\", font_size=72).next_to(std, UP)\n",
        "            for std in self.students\n",
        "        )\n",
        "\n",
        "        self.play(\n",
        "            morty.change(\"raise_right_hand\"),\n",
        "            FadeIn(qc, UP),\n",
        "            self.change_students(\"confused\", \"horrified\", \"angry\"),\n",
        "            LaggedStartMap(FadeIn, q_marks, shift=0.25 * UP),\n",
        "        )\n",
        "        self.play(\n",
        "            VShowPassingFlash(qc_outline, time_width=2, run_time=3),\n",
        "            Blink(morty),\n",
        "        )\n",
        "        self.wait(4)\n",
        "\n",
        "        # Reference alternate version of blackbox function\n",
        "        std = self.students[2]\n",
        "        machine = get_blackbox_machine(height=1.0)\n",
        "        machine.next_to(std.get_corner(UR), UP)\n",
        "        arrow = Tex(R\"\\updownarrow\").set_height(1)\n",
        "        arrow.next_to(machine, UP)\n",
        "\n",
        "        self.play(LaggedStart(\n",
        "            FadeOut(q_marks[:2], lag_ratio=0.1),\n",
        "            self.change_students(\"pondering\", \"erm\", \"raise_right_hand\"),\n",
        "            morty.change(\"tease\"),\n",
        "            qc.animate.next_to(arrow, UP),\n",
        "            FadeIn(machine),\n",
        "            q_marks[2].animate.next_to(arrow, LEFT),\n",
        "            Write(arrow),\n",
        "        ))\n",
        "        self.wait(5)\n",
        "\n",
        "        # Thought bubble\n",
        "        bubble = ThoughtBubble().pin_to(std)\n",
        "        self.play(\n",
        "            self.change_students(\"pondering\", \"pondering\", \"thinking\", look_at=self.screen, lag_ratio=0.1),\n",
        "            FadeIn(bubble, lag_ratio=0.2),\n",
        "            LaggedStartMap(FadeOut, VGroup(machine, arrow, q_marks[2], qc), shift=LEFT, lag_ratio=0.1, run_time=1)\n",
        "        )\n",
        "        self.wait(3)\n",
        "\n",
        "\n",
        "class Wrong(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        morty = Mortimer()\n",
        "        morty.to_corner(DR)\n",
        "        # morty.body.insert_n_curves(10000)\n",
        "        self.play(morty.says(\"Wrong!\", mode=\"surprised\"))\n",
        "        self.play(Blink(morty))\n",
        "        self.wait()\n",
        "\n",
        "        old_bubble = morty.bubble\n",
        "        new_bubble = morty.get_bubble(Text(\"Also wrong!\"), bubble_type=SpeechBubble)\n",
        "        self.play(\n",
        "            TransformMatchingStrings(\n",
        "                old_bubble.content,\n",
        "                new_bubble.content,\n",
        "                key_map={\"Wrong\": \"wrong\"},\n",
        "                run_time=1\n",
        "            ),\n",
        "            Transform(old_bubble[0], new_bubble[0]),\n",
        "            morty.change(\"tease\")\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class WriteCheckMark(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        check = Checkmark()\n",
        "        check.set_color(GREEN)\n",
        "        check.set_height(0.75)\n",
        "        self.play(\n",
        "            Write(check),\n",
        "            Flash(check.get_left() + 1.0 * LEFT, flash_radius=0.8, line_length=0.2, color=GREEN)\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ExpressSkepticism(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        randy = Randolph(height=3.5)\n",
        "        randy.flip()\n",
        "        randy.to_corner(DR)\n",
        "        for mood in [\"sassy\", \"pondering\", \"confused\"]:\n",
        "            self.play(randy.change(mood, ORIGIN))\n",
        "            for _ in range(2):\n",
        "                self.play(Blink(randy))\n",
        "                self.wait(2)\n",
        "\n",
        "\n",
        "class WriteGroversAlgorithm(InteractiveScene):\n",
        "    def construct(self):\n",
        "        text = TexText(\"Grover's Algorithm\", font_size=60)\n",
        "        self.play(Write(text))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class TwoThirdsDivision(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        self.add(FullScreenRectangle().set_fill(GREY_E, 0.5))\n",
        "\n",
        "        rects = Rectangle(3, 0.5).replicate(2)\n",
        "        rects.arrange(RIGHT, buff=0)\n",
        "        rects.set_fill(BLUE_E, 1)\n",
        "        rects.set_submobject_colors_by_gradient(BLUE_E, BLUE_D)\n",
        "        rects.set_stroke(WHITE, 1)\n",
        "        rects.stretch_to_fit_width(12)\n",
        "        rects.move_to(2 * DOWN)\n",
        "\n",
        "        self.add(rects)\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            rects[0].animate.stretch_to_fit_width(8, about_edge=LEFT),\n",
        "            rects[1].animate.stretch_to_fit_width(4, about_edge=RIGHT),\n",
        "            run_time=2\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ReactToStrangeness(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        randy = Randolph()\n",
        "        randy.flip()\n",
        "        randy.to_corner(UR)\n",
        "\n",
        "        self.play(randy.change('confused', ORIGIN))\n",
        "        self.play(Blink(randy))\n",
        "        self.play(randy.change('erm', ORIGIN))\n",
        "        for _ in range(2):\n",
        "            self.play(Blink(randy))\n",
        "            self.wait(2)\n",
        "\n",
        "\n",
        "class DotsAndArrow(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        dots = Tex(R\"\\cdots\", font_size=160)\n",
        "        dots.space_out_submobjects(0.8)\n",
        "        arrow = Vector(2.0 * RIGHT, thickness=8)\n",
        "        arrow.next_to(dots, RIGHT, MED_LARGE_BUFF)\n",
        "        self.play(LaggedStart(\n",
        "            FadeIn(dots, lag_ratio=0.5),\n",
        "            GrowArrow(arrow),\n",
        "            lag_ratio=0.7\n",
        "        ))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class BigCross(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        cross = Cross(Rectangle(4, 7))\n",
        "        max_width = 15\n",
        "        cross.set_stroke(RED, width=[0, max_width, max_width, max_width, 1])\n",
        "        self.play(ShowCreation(cross))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class VectSize16(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        brace = Brace(Line(3 * DOWN, 3 * UP), RIGHT)\n",
        "        tex = brace.get_tex(\"2^{4} = 16\")\n",
        "        tex.shift(SMALL_BUFF * UR)\n",
        "        self.play(GrowFromCenter(brace), Write(tex))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class MoreDimensionsNote(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        words = TexText(R\"(Except $2^k$ dimensions instead of 3)\")\n",
        "        words.set_color(GREY_B)\n",
        "        self.play(FadeIn(words, lag_ratio=1))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class QuestionsOnTheStateVector(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # React\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(100)  # Make it 10k?\n",
        "        morty = self.teacher\n",
        "        stds = self.students\n",
        "        self.play(\n",
        "            morty.change(\"hesitant\"),\n",
        "            self.change_students(\"pleading\", \"confused\", \"erm\", look_at=self.screen)\n",
        "        )\n",
        "        self.wait(3)\n",
        "\n",
        "        # Questions\n",
        "        self.play(\n",
        "            stds[0].says(\"But...\\nwhat is it?\", mode=\"maybe\", look_at=morty.eyes)\n",
        "        )\n",
        "        self.wait()\n",
        "        self.add(Point())\n",
        "        self.play(\n",
        "            stds[1].says(\"Why square things?\", mode=\"raise_right_hand\", look_at=morty.eyes)\n",
        "        )\n",
        "        self.wait(3)\n",
        "\n",
        "        # Reference Complex\n",
        "        expr = Tex(R\"\\mathds{R}^n \\text{ vs. } \\mathds{C}^n\")\n",
        "        expr.move_to(self.hold_up_spot, DOWN)\n",
        "\n",
        "        self.play(\n",
        "            morty.change(\"raise_right_hand\"),\n",
        "            FadeIn(expr, UP),\n",
        "            stds[0].debubble(mode=\"sassy\"),\n",
        "            stds[1].debubble(mode=\"erm\"),\n",
        "            stds[2].change(\"confused\", look_at=expr)\n",
        "        )\n",
        "        self.wait(3)\n",
        "        self.play(self.change_students(\"pondering\", \"pondering\", \"pondering\", look_at=self.screen))\n",
        "        self.wait(3)\n",
        "\n",
        "\n",
        "class MagnifyingGlassOverComputer(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        comp = get_quantum_computer_symbol(height=2.5)\n",
        "        comp.center()\n",
        "        glass = get_magnifying_glass()\n",
        "        glass.next_to(comp, UL, buff=2).shift_onto_screen()\n",
        "\n",
        "        self.add(comp, glass)\n",
        "        self.play(\n",
        "            glass.animate.shift(-glass[0].get_center()).set_anim_args(path_arc=-60 * DEG),\n",
        "            rate_func=there_and_back_with_pause,\n",
        "            run_time=6\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class SimpleSampleValue(InteractiveScene):\n",
        "    def construct(self):\n",
        "        value = Tex(R\"|0011\\rangle\", font_size=60)\n",
        "        value.set_fill(border_width=2)\n",
        "        self.add(value)\n",
        "\n",
        "\n",
        "class BitVsQubitMatrix(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Set up frame\n",
        "        boxes = Rectangle(5, 3).get_grid(2, 2, buff=0)\n",
        "        boxes.to_edge(DOWN, buff=MED_LARGE_BUFF)\n",
        "        boxes.shift(RIGHT)\n",
        "        boxes.set_stroke(WHITE, 1)\n",
        "\n",
        "        top_titles = VGroup(\n",
        "            Text(\"Bit\", font_size=72),\n",
        "            Text(\"Qubit\", font_size=72),\n",
        "        )\n",
        "        for title, box in zip(top_titles, boxes):\n",
        "            title.next_to(box, UP)\n",
        "            title.align_to(top_titles[0], UP)\n",
        "\n",
        "        side_titles = VGroup(\n",
        "            Text(\"State\", font_size=48),\n",
        "            Text(\"What you\\nobserve\", font_size=48),\n",
        "        )\n",
        "        for title, box in zip(side_titles, boxes[::2]):\n",
        "            title.next_to(box, LEFT)\n",
        "        side_titles[0].match_x(side_titles[1])\n",
        "\n",
        "        for i in [0, 2, 3]:\n",
        "            content = Text(R\"0 or 1\", font_size=72)\n",
        "            content.move_to(boxes[i])\n",
        "            boxes[i].add(content)\n",
        "\n",
        "        self.add(boxes)\n",
        "        self.add(top_titles)\n",
        "        self.add(side_titles)\n",
        "\n",
        "\n",
        "class ReferenceQubitComplexity(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(1000)\n",
        "        expr = Tex(R\"\\mathds{R}^2 \\text{ vs. } \\mathds{C}^2\", font_size=60)\n",
        "        expr.move_to(self.hold_up_spot, DOWN)\n",
        "        self.play(\n",
        "            self.teacher.change(\"raise_right_hand\"),\n",
        "            self.change_students(\"erm\", \"confused\", \"tease\", look_at=expr),\n",
        "            FadeIn(expr, UP)\n",
        "        )\n",
        "        self.wait(2)\n",
        "        self.play(\n",
        "            self.teacher.change(\"tease\"),\n",
        "            FadeOut(expr, shift=3 * RIGHT, path_arc=-90 * DEG),\n",
        "            self.change_students(\"pondering\", \"pondering\", \"pondering\", look_at=self.screen)\n",
        "        )\n",
        "        self.wait(4)\n",
        "\n",
        "\n",
        "class ConfusionAtPresmises(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        morty = self.teacher\n",
        "        stds = self.students\n",
        "        self.play(\n",
        "            morty.change('guilty'),\n",
        "            stds[2].says(\"Okay...\\nbut why?\", mode=\"sassy\", bubble_direction=LEFT),\n",
        "            stds[1].change(\"confused\", self.screen),\n",
        "            stds[0].change(\"maybe\", self.screen),\n",
        "        )\n",
        "        self.wait(2)\n",
        "        self.play(self.change_students(\"confused\", \"erm\", \"maybe\", look_at=self.screen))\n",
        "        self.wait(3)\n",
        "\n",
        "\n",
        "class BitExamples(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # All bits\n",
        "        circuit = get_bit_circuit(1)\n",
        "        circuit.to_edge(LEFT, buff=0.75).to_edge(DOWN, buff=0.25)\n",
        "\n",
        "        switch = SVGMobject(\"light_switch\")\n",
        "        switch.set_height(1.5)\n",
        "        switch.to_corner(UL)\n",
        "        switch.match_x(circuit)\n",
        "        switch.set_fill(GREY_B)\n",
        "        switch.flip(RIGHT)\n",
        "\n",
        "        coins = Circle(radius=0.5).replicate(2)\n",
        "        for coin, color, letter in zip(coins, [RED_E, BLUE_E], \"TH\"):\n",
        "            coin.set_fill(color, 1)\n",
        "            coin.set_stroke(WHITE, 2)\n",
        "            coin.add(Text(letter).move_to(coin))\n",
        "        coins.set_y(0).match_x(circuit)\n",
        "        coins[1].flip(RIGHT)\n",
        "        coins.apply_depth_test()\n",
        "        op_tracker = ValueTracker(0)\n",
        "\n",
        "        def update_coins(coins):\n",
        "            index = int(op_tracker.get_value() > 0.5)\n",
        "            coins[index].set_opacity(1)\n",
        "            coins[1 - index].set_opacity(0)\n",
        "\n",
        "        coins.add_updater(update_coins)\n",
        "\n",
        "        self.play(\n",
        "            Write(circuit, lag_ratio=1e-2),\n",
        "            Write(switch, lag_ratio=1e-2),\n",
        "            FadeIn(coins),\n",
        "        )\n",
        "        switch.flip(RIGHT)\n",
        "        self.play(\n",
        "            Rotate(coins, PI, axis=RIGHT),\n",
        "            op_tracker.animate.set_value(1),\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class KetDefinition(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        square = Rectangle(1, 0.75)\n",
        "        dots = Tex(R\"\\cdots\")\n",
        "        dots.space_out_submobjects(0.5)\n",
        "        dots.replace(square, 0).scale(0.75)\n",
        "        ket = VGroup(Ket(square), dots)\n",
        "        ket.set_stroke(WHITE, 3)\n",
        "\n",
        "        ket_name = TexText(R\"``ket''\", font_size=60)\n",
        "        ket_name.next_to(ket, UP, buff=MED_LARGE_BUFF)\n",
        "\n",
        "        self.add(ket)\n",
        "        self.play(Write(ket_name))\n",
        "        self.wait()\n",
        "\n",
        "        # Show unit vector\n",
        "        arrow = Tex(R\"\\longrightarrow\", font_size=90)\n",
        "\n",
        "        vector = Vector(2 * UP + RIGHT, thickness=6, fill_color=TEAL)\n",
        "        vector.next_to(arrow, RIGHT, MED_LARGE_BUFF)\n",
        "        brace = LineBrace(vector, DOWN, buff=SMALL_BUFF)\n",
        "        brace_label = brace.get_tex(\"1\")\n",
        "\n",
        "        self.play(\n",
        "            ket.animate.next_to(arrow, LEFT, MED_LARGE_BUFF),\n",
        "            MaintainPositionRelativeTo(ket_name, ket),\n",
        "            Write(arrow),\n",
        "        )\n",
        "        self.play(GrowArrow(vector))\n",
        "        self.play(\n",
        "            GrowFromCenter(brace),\n",
        "            FadeIn(brace_label)\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "        # Show examples of what goes inside it\n",
        "        examples = VGroup(\n",
        "            Tex(tex)\n",
        "            for tex in [\n",
        "                R\"0\",\n",
        "                R\"1\",\n",
        "                \"+z\",\n",
        "                \"-z\",\n",
        "                R\"\\updownarrow\",\n",
        "                R\"E\",\n",
        "                R\"\\text{Dead}\",\n",
        "                R\"\\text{Alive}\",\n",
        "                R\"\\psi\",\n",
        "            ]\n",
        "        )\n",
        "        last = dots\n",
        "        for example in examples:\n",
        "            example.scale(2)\n",
        "            example.set_max_width(dots.get_width())\n",
        "            example.move_to(last)\n",
        "            self.play(\n",
        "                FadeOut(last, 0.5 * UP),\n",
        "                FadeIn(example, 0.5 * UP),\n",
        "                rate_func=linear,\n",
        "                run_time=0.5\n",
        "            )\n",
        "            last = example\n",
        "\n",
        "\n",
        "class ClassicalGates(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Title\n",
        "        title = Text(\"Logic Gates\", font_size=60)\n",
        "        title.to_edge(UP)\n",
        "        self.add(title)\n",
        "\n",
        "        # Basic gates\n",
        "        gates = VGroup(\n",
        "            SVGMobject(\"and_gate\"),\n",
        "            SVGMobject(\"or_gate\"),\n",
        "            SVGMobject(\"not_gate\"),\n",
        "        )\n",
        "        gates.get_width()\n",
        "        gates.set_width(2.0)\n",
        "        gates.set_fill(GREY_B)\n",
        "        gates.arrange(RIGHT, buff=2)\n",
        "        gates.set_y(0)\n",
        "\n",
        "        gate_names = VGroup(map(Text, [\"AND\", \"OR\", \"NOT\"]))\n",
        "        for name, gate in zip(gate_names, gates):\n",
        "            name.set_color(GREY_B)\n",
        "            name.next_to(gate, DOWN)\n",
        "\n",
        "        self.play(\n",
        "            LaggedStartMap(Write, gates, lag_ratio=0.5),\n",
        "            LaggedStartMap(Write, gate_names, lag_ratio=0.5),\n",
        "        )\n",
        "\n",
        "        # Bit examples\n",
        "        inputs = VGroup(Text(\"01\"), Text(\"01\"), Text(\"0\"))\n",
        "        outputs = VGroup(Text(\"0\"), Text(\"1\"), Text(\"1\"))\n",
        "        for in_bits, out_bit, gate in zip(inputs, outputs, gates):\n",
        "            in_bits.arrange(DOWN)\n",
        "            in_bits.arrange_to_fit_height(1)\n",
        "            in_bits.next_to(gate, LEFT, buff=SMALL_BUFF)\n",
        "            out_bit.next_to(gate, RIGHT, buff=SMALL_BUFF)\n",
        "\n",
        "        self.play(LaggedStartMap(FadeIn, inputs, shift=0.5 * RIGHT, lag_ratio=0.2, run_time=1.0)),\n",
        "        self.play(LaggedStart(\n",
        "            *(FadeOut(in_bit.copy(), RIGHT) for in_bit in inputs),\n",
        "            *(FadeIn(out_bit, 0.5 * RIGHT) for out_bit in outputs),\n",
        "            lag_ratio=0.2\n",
        "        ))\n",
        "        self.add(inputs, outputs)\n",
        "\n",
        "        # Show full circuit\n",
        "        gate_groups = VGroup(\n",
        "            VGroup(gate, name, in_bits, out_bits)\n",
        "            for gate, name, in_bits, out_bits in zip(gates, gate_names, inputs, outputs)\n",
        "        )\n",
        "\n",
        "        circuit = SVGMobject(\"Four_bit_adder_with_carry_lookahead\")\n",
        "        circuit.set_height(5)\n",
        "        circuit.to_edge(DOWN, buff=0.25)\n",
        "        circuit.set_fill(opacity=0)\n",
        "        circuit.set_stroke(WHITE, 1)\n",
        "\n",
        "        self.play(\n",
        "            gate_groups.animate.scale(0.35).space_out_submobjects(0.9).next_to(title, DOWN, MED_LARGE_BUFF),\n",
        "            Write(circuit, run_time=3)\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class HLine(InteractiveScene):\n",
        "    def construct(self):\n",
        "        line = Line(UP, DOWN).set_height(FRAME_HEIGHT)\n",
        "        line.set_stroke(GREY_B, 2)\n",
        "        self.play(ShowCreation(line))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ShowQubitThroughTwoHadamardGates(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Add the line\n",
        "        line = Line(4 * LEFT, 4 * RIGHT)\n",
        "        h_box = Square(1)\n",
        "        h_box.set_fill(BLACK, 1).set_stroke(WHITE)\n",
        "        h_box.add(Text(\"H\", font_size=60))\n",
        "        h_boxes = h_box.replicate(2)\n",
        "        h_boxes.arrange(RIGHT, buff=3)\n",
        "\n",
        "        self.add(line, Point(), h_boxes)\n",
        "\n",
        "        # Symbols\n",
        "        symbols = VGroup(\n",
        "            Tex(R\"|0\\rangle\", font_size=60),\n",
        "            Tex(R\"\\frac{1}{\\sqrt{2}}\\left(|0\\rangle + |1\\rangle\\right)\"),\n",
        "            Tex(R\"|0\\rangle\", font_size=60),\n",
        "        )\n",
        "        symbols[0].next_to(line, LEFT, MED_SMALL_BUFF)\n",
        "        symbols[1].next_to(line, UP, LARGE_BUFF)\n",
        "        symbols[2].next_to(line, RIGHT, MED_SMALL_BUFF)\n",
        "\n",
        "        mid_sym_rect = SurroundingRectangle(symbols[1], buff=0.2)\n",
        "        mid_sym_lines = VGroup(\n",
        "            Line(line.pfp(0.5 + 0.01 * u), mid_sym_rect.get_corner(DOWN + u * RIGHT))\n",
        "            for u in [-1, 1]\n",
        "        )\n",
        "        VGroup(mid_sym_lines, mid_sym_rect).set_stroke(BLUE, 2)\n",
        "\n",
        "        # Show progression\n",
        "        dot = GlowDot(color=BLUE, radius=0.5)\n",
        "        dot.move_to(line.get_left())\n",
        "        dot.set_opacity(0)\n",
        "\n",
        "        cover = FullScreenFadeRectangle()\n",
        "        cover.set_fill(BLACK, 1)\n",
        "        cover.stretch(0.45, 0, about_edge=RIGHT)\n",
        "\n",
        "        self.add(line, dot, h_boxes, cover)\n",
        "\n",
        "        self.play(FadeIn(symbols[0], 0.5 * UR, run_time=1))\n",
        "        self.play(dot.animate.set_opacity(1))\n",
        "        self.wait()\n",
        "        self.play(dot.animate.move_to(line.get_center()))\n",
        "        self.play(\n",
        "            ShowCreation(mid_sym_lines, lag_ratio=0),\n",
        "            GrowFromPoint(mid_sym_rect, dot.get_center()),\n",
        "            GrowFromPoint(symbols[1], dot.get_center()),\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(FadeOut(cover))\n",
        "        self.play(dot.animate.move_to(line.get_end()))\n",
        "        self.play(FadeIn(symbols[2], 0.25 * RIGHT, rate_func=rush_from))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ReferencePreview(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        morty = self.teacher\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(1000)\n",
        "\n",
        "        self.play(\n",
        "            morty.says(\"First, a preview\"),\n",
        "            self.change_students(\"happy\", \"tease\", \"happy\", look_at=morty.eyes)\n",
        "        )\n",
        "        self.wait(4)\n",
        "        self.play(\n",
        "            morty.debubble(mode=\"raise_right_hand\"),\n",
        "            self.change_students(\"pondering\", \"thinking\", \"pondering\", look_at=2 * UR)\n",
        "        )\n",
        "        self.look_at(3 * UR)\n",
        "        self.wait(4)\n",
        "\n",
        "        # Ask about sign\n",
        "        stds = self.students\n",
        "        self.play(\n",
        "            stds[2].says(\"Why can you flip the\\nkey sign like that?\", mode=\"raise_left_hand\", look_at=self.teacher.eyes),\n",
        "            stds[1].change(\"sassy\", look_at=3 * UR),\n",
        "            stds[0].change(\"maybe\", look_at=3 * UR),\n",
        "            morty.change('tease')\n",
        "        )\n",
        "        self.wait(5)\n",
        "\n",
        "\n",
        "class GroverPreviewBox(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        morty = self.teacher\n",
        "        rect = ScreenRectangle(height=4.0)\n",
        "        rect.next_to(morty, UL)\n",
        "        rect.set_fill(BLACK, 1).set_stroke(WHITE, 2)\n",
        "\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(100)\n",
        "        for pi in self.students:\n",
        "            pi.change_mode(\"confused\").look_at(rect)\n",
        "\n",
        "        self.add(rect)\n",
        "        self.play(\n",
        "            morty.change(\"raise_right_hand\", rect),\n",
        "            self.change_students(\"pondering\", \"pondering\", \"pondering\", look_at=rect)\n",
        "        )\n",
        "        self.wait(4)\n",
        "        self.play(self.change_students(\"tease\", \"thinking\", \"pondering\", look_at=rect))\n",
        "        self.wait(5)\n",
        "\n",
        "\n",
        "class SimpleMagnifyingGlass(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        glass = get_magnifying_glass(height=3)\n",
        "        glass.to_corner(UL)\n",
        "        glass.target = glass.generate_target()\n",
        "        glass.target.scale(1.75)\n",
        "        glass.target.shift(1.5 * LEFT - glass.target[0].get_center())\n",
        "\n",
        "        self.add(glass)\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            MoveToTarget(glass, path_arc=-45 * DEG),\n",
        "            run_time=6,\n",
        "            rate_func=there_and_back_with_pause,\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ShowAbstractionArrows(InteractiveScene):\n",
        "    def construct(self):\n",
        "        arrows = VGroup(\n",
        "            Arrow(point + 4 * LEFT, ORIGIN + 0.35 * point, buff=1.0, thickness=5)\n",
        "            for point in np.linspace(2.5 * DOWN, 2.5 * UP, 3)\n",
        "        )\n",
        "        arrows.set_fill(border_width=2)\n",
        "        self.play(LaggedStartMap(GrowArrow, arrows, lag_ratio=0.1))\n",
        "\n",
        "\n",
        "class WriteGroversAlgorithm2(InteractiveScene):\n",
        "    def construct(self):\n",
        "        text = TexText(\"Grover's Algorithm\", font_size=72)\n",
        "        text.to_edge(UP)\n",
        "        self.play(Write(text))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class StareAtPicture(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        morty = self.teacher\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(100)\n",
        "\n",
        "        self.play(\n",
        "            morty.change(\"raise_right_hand\", self.screen),\n",
        "            self.change_students(\"pondering\", \"pondering\", \"pondering\", look_at=self.screen),\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            morty.change(\"speaking\", look_at=self.students),\n",
        "            self.change_students(\"tease\", \"well\", \"coin_flip_2\")\n",
        "        )\n",
        "        self.wait(5)\n",
        "\n",
        "\n",
        "class TryingToDescribeComputing(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Characters\n",
        "        randy = Randolph()\n",
        "        randy.move_to(2 * DOWN + 3 * LEFT)\n",
        "        buddy = PiCreature(color=MAROON_E).flip()\n",
        "        buddy.next_to(randy, RIGHT, buff=3)\n",
        "        randy.make_eye_contact(buddy)\n",
        "\n",
        "        for pi in [randy, buddy]:\n",
        "            pi.body.insert_n_curves(100)\n",
        "\n",
        "        self.add(randy, buddy)\n",
        "\n",
        "        # Objects\n",
        "        laptop = Laptop()\n",
        "        laptop.scale(0.75)\n",
        "        laptop.rotate(70 * DEG, LEFT)\n",
        "        laptop.rotate(45 * DEG, UP)\n",
        "        laptop.move_to(UP + 0.5 * LEFT)\n",
        "\n",
        "        chip = get_classical_computer_symbol(height=1)\n",
        "        chip.next_to(randy, UR, MED_LARGE_BUFF)\n",
        "\n",
        "        # Show objects\n",
        "        self.play(LaggedStart(\n",
        "            randy.change(\"raise_right_hand\", laptop),\n",
        "            FadeIn(laptop, UP),\n",
        "            buddy.change(\"erm\", laptop),\n",
        "            lag_ratio=0.5,\n",
        "        ))\n",
        "        self.play(Blink(buddy))\n",
        "        self.wait()\n",
        "        self.play(LaggedStart(\n",
        "            randy.change(\"well\", buddy.eyes),\n",
        "            FadeIn(chip, UP),\n",
        "            laptop.animate.shift(1.5 * UP),\n",
        "            buddy.change(\"confused\"),\n",
        "            lag_ratio=0.25\n",
        "        ))\n",
        "        self.play(Blink(randy))\n",
        "\n",
        "        # Show factoring numbers\n",
        "        factors = Tex(R\"91 = 7 \\times 13\")\n",
        "        factors.next_to(randy, UL, MED_LARGE_BUFF)\n",
        "        factors.shift_onto_screen(buff=LARGE_BUFF)\n",
        "        self.play(\n",
        "            randy.change(\"raise_left_hand\", factors),\n",
        "            FadeInFromPoint(factors, chip.get_center(), lag_ratio=0.05),\n",
        "        )\n",
        "        self.play(Blink(buddy))\n",
        "        self.wait(2)\n",
        "\n",
        "        # Put numbers in chip\n",
        "        c_label = chip[1]\n",
        "        chip.remove(c_label)\n",
        "\n",
        "        seven = factors[\"7\"][0].copy()\n",
        "        product = factors[R\"7 \\times 13\"][0].copy()\n",
        "\n",
        "        self.play(\n",
        "            randy.change('raise_right_hand', chip),\n",
        "            chip.animate.scale(2, about_edge=DOWN),\n",
        "            FadeOut(c_label, 0.5 * UP),\n",
        "            FadeOut(laptop, UP),\n",
        "            buddy.change(\"pondering\", chip),\n",
        "        )\n",
        "        self.play(\n",
        "            seven.animate.move_to(chip).scale(1.5),\n",
        "        )\n",
        "        self.play(Blink(buddy))\n",
        "        self.wait()\n",
        "\n",
        "        product.move_to(chip)\n",
        "        self.play(\n",
        "            ReplacementTransform(seven, product[0]),\n",
        "            Write(product[1:]),\n",
        "            buddy.change('hesitant', chip),\n",
        "        )\n",
        "        result = Tex(R\"91\")\n",
        "        result.scale(1.5)\n",
        "        result.move_to(chip)\n",
        "        self.play(\n",
        "            TransformFromCopy(product, result, lag_ratio=0.2),\n",
        "            product.animate.set_opacity(0.25),\n",
        "        )\n",
        "        self.play(Blink(randy))\n",
        "        self.wait()\n",
        "\n",
        "        # Logic gates\n",
        "        gates = SVGMobject(\"Four_bit_adder_with_carry_lookahead\")\n",
        "        gates.set_height(4)\n",
        "        gates.to_edge(UP, MED_SMALL_BUFF)\n",
        "        gates.to_edge(LEFT)\n",
        "        gates.set_fill(opacity=0)\n",
        "        gates.set_stroke(WHITE, 1)\n",
        "\n",
        "        self.play(\n",
        "            randy.change(\"dance_3\", gates),\n",
        "            Write(gates, run_time=2),\n",
        "            FadeOut(factors, DOWN),\n",
        "            buddy.change(\"awe\", gates)\n",
        "        )\n",
        "        self.play(Blink(buddy))\n",
        "        self.play(Blink(randy))\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            randy.change(\"tease\"),\n",
        "            FadeOut(gates, 3 * LEFT, rate_func=running_start, path_arc=30 * DEG)\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ProbForMillionDim(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Context\n",
        "        context = VGroup(\n",
        "            Tex(R\"N = 2^{20}\"),\n",
        "            TexText(R\"\\# Reps: 804\"),\n",
        "        )\n",
        "        context.arrange(DOWN, aligned_edge=LEFT)\n",
        "        context.to_corner(UL)\n",
        "\n",
        "        # Prob\n",
        "        theta = math.asin(2**(-10))\n",
        "        prob = math.sin((2 * 804 + 1) * theta)**2\n",
        "\n",
        "        chance_lhs = Tex(R\"P(k) = \", t2c={\"k\": YELLOW})\n",
        "        chance_rhs = DecimalNumber(100 * prob, num_decimal_places=7, unit=\"%\")\n",
        "        chance_rhs.next_to(chance_lhs, RIGHT, SMALL_BUFF).shift(0.05 * UR)\n",
        "        chance = VGroup(chance_lhs, chance_rhs)\n",
        "        chance.scale(1.25)\n",
        "        chance.to_edge(RIGHT)\n",
        "\n",
        "        brace = Brace(chance_rhs, DOWN)\n",
        "        equation = brace.get_tex(R\"\\sin((2 \\cdot 804 + 1) \\theta)^2\")\n",
        "        equation.set_color(GREY_C)\n",
        "        equation.scale(0.7, about_edge=UP)\n",
        "\n",
        "        self.play(Write(chance))\n",
        "        self.play(\n",
        "            GrowFromCenter(brace),\n",
        "            FadeIn(equation),\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class AskAreYouSure(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        randy = Randolph()\n",
        "        randy.to_edge(LEFT).shift(2 * DOWN)\n",
        "\n",
        "        number = Integer(random.randint(0, int(1e6)))\n",
        "        answer = KetGroup(number)\n",
        "        answer.set_width(2)\n",
        "        answer.move_to(4 * RIGHT)\n",
        "\n",
        "        self.add(answer)\n",
        "        self.add(randy)\n",
        "        self.play(randy.change('pondering', answer))\n",
        "        self.wait()\n",
        "        self.play(randy.says(\"Are we...sure?\", \"hesitant\"))\n",
        "        self.play(Blink(randy))\n",
        "        self.wait()\n",
        "\n",
        "        # Show the machine\n",
        "        machine = get_blackbox_machine()\n",
        "        machine.to_edge(UP)\n",
        "        output = Text(\"True\", font_size=60)\n",
        "        output.set_color(GREEN)\n",
        "        output.next_to(machine, RIGHT, MED_LARGE_BUFF)\n",
        "\n",
        "        self.play(\n",
        "            randy.debubble(\"pondering\", machine),\n",
        "            FadeOut(answer[0]),\n",
        "            number.animate.scale(1.5).next_to(machine, LEFT).set_anim_args(path_arc=-45 * DEG),\n",
        "            FadeIn(machine),\n",
        "        )\n",
        "\n",
        "        self.add(number.copy().set_opacity(0.5))\n",
        "        self.play(\n",
        "            FadeOutToPoint(number, machine.get_center(), path_arc=-45 * DEG, lag_ratio=0.01)\n",
        "        )\n",
        "        self.play(\n",
        "            FadeIn(output, 2 * RIGHT),\n",
        "            randy.change(\"well\", output),\n",
        "        )\n",
        "        self.play(Blink(randy))\n",
        "        self.wait(2)\n",
        "\n",
        "\n",
        "class WrapUpList(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # List\n",
        "        morty = Mortimer()\n",
        "        morty.to_corner(DR)\n",
        "\n",
        "        items = BulletedList(\n",
        "            \"The Lie\",\n",
        "            R\"Why $\\sqrt{\\quad}$\",\n",
        "            \"A suprising analogy\",\n",
        "            buff=0.75\n",
        "        )\n",
        "        items[1][-2:].shift(SMALL_BUFF * UP)\n",
        "        items[1][1:].shift(0.5 * SMALL_BUFF * DOWN)\n",
        "        items.scale(1.25)\n",
        "        items.to_edge(UP, LARGE_BUFF)\n",
        "\n",
        "        morty.body.insert_n_curves(100)\n",
        "\n",
        "        self.play(\n",
        "            morty.change(\"raise_right_hand\", items),\n",
        "            FadeInFromPoint(items[0], morty.get_corner(UL), lag_ratio=0.01)\n",
        "        )\n",
        "        self.play(Blink(morty))\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            morty.change(\"pondering\", items[1]),\n",
        "            Write(items[1]),\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            morty.change(\"tease\", 5 * UR),\n",
        "            FadeIn(items[2], DOWN),\n",
        "        )\n",
        "        self.play(Blink(morty))\n",
        "        self.wait()\n",
        "\n",
        "        for n, mode in enumerate([\"guilty\", \"tease\", \"surprised\"]):\n",
        "            self.play(\n",
        "                items.animate.fade_all_but(n, scale_factor=0.5),\n",
        "                morty.change(mode, items[n]),\n",
        "            )\n",
        "            self.play(Blink(morty))\n",
        "            self.wait()\n",
        "\n",
        "\n",
        "class WriteShorName(InteractiveScene):\n",
        "    def construct(self):\n",
        "        name = Text(\"Peter Shor\", font_size=72)\n",
        "        name.to_corner(UR)\n",
        "        self.play(Write(name, run_time=3))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class OneWordSummary(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Replace \"Parallelism\" with \"Pythagoras\"\n",
        "        prompt = Text(\"Source of the speed-up\", font_size=72)\n",
        "        prompt.move_to(2 * UP)\n",
        "\n",
        "        words = VGroup(\n",
        "            Text(\"Parallelism\").set_color(TEAL),\n",
        "            Text(\"Pythagoras\").set_color(YELLOW),\n",
        "        )\n",
        "        words.scale(2)\n",
        "        words.next_to(prompt, DOWN, LARGE_BUFF)\n",
        "        strike = Line(words[0].get_left(), words[0].get_right())\n",
        "        strike.set_stroke(RED, 10)\n",
        "\n",
        "        self.add(prompt)\n",
        "        self.add(words[0])\n",
        "        self.wait()\n",
        "        self.play(ShowCreation(strike))\n",
        "        self.play(\n",
        "            FadeIn(words[1], 0.5 * DOWN),\n",
        "            words[0].animate.scale(0.75).shift(2 * DOWN).set_opacity(0.25),\n",
        "            strike.animate.scale(0.75).shift(2 * DOWN),\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class PythagoreanIntuition(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Set up axes\n",
        "        x_range = y_range = z_range = (-2, 2)\n",
        "        axes = ThreeDAxes(x_range, y_range, z_range)\n",
        "        plane = NumberPlane(x_range, y_range)\n",
        "        plane.fade(0.5)\n",
        "        axes_group = VGroup(plane, axes)\n",
        "        axes_group.scale(2)\n",
        "\n",
        "        # Trace square\n",
        "        frame = self.frame\n",
        "        square = Square(2)\n",
        "        square.move_to(ORIGIN, DL)\n",
        "        square.set_stroke(WHITE, 2)\n",
        "\n",
        "        side_lines = VGroup(\n",
        "            Line(axes.get_origin(), axes.c2p(1, 0, 0)),\n",
        "            Line(axes.c2p(1, 0, 0), axes.c2p(1, 1, 0)),\n",
        "            Line(axes.c2p(1, 1, 0), axes.c2p(1, 1, 1)),\n",
        "        )\n",
        "        side_lines.set_stroke(RED, 4)\n",
        "        ones = VGroup(\n",
        "            Tex(R\"1\", font_size=36).next_to(line, vect, SMALL_BUFF)\n",
        "            for line, vect in zip(side_lines, [DOWN, RIGHT, RIGHT])\n",
        "        )\n",
        "        ones[2].rotate(90 * DEG, RIGHT)\n",
        "\n",
        "        dot = GlowDot(color=RED)\n",
        "        dot.move_to(ORIGIN)\n",
        "\n",
        "        frame.set_height(5).move_to(square)\n",
        "        self.add(square, dot)\n",
        "        for line, one in zip(side_lines[:2], ones):\n",
        "            self.play(\n",
        "                ShowCreation(line),\n",
        "                FadeIn(one, 0.5 * line.get_vector()),\n",
        "                dot.animate.move_to(line.get_end())\n",
        "            )\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            MoveAlongPath(dot, square, rate_func=lambda t: 1 - 0.5 * smooth(t))\n",
        "        )\n",
        "\n",
        "        # Show diagonal\n",
        "        diag = Line(square.get_corner(DL), square.get_corner(UR))\n",
        "        diag.set_stroke(PINK, 3)\n",
        "\n",
        "        sqrts = VGroup(\n",
        "            Tex(R\"\\sqrt{1^2 + 1^2}\", font_size=24),\n",
        "            Tex(R\"\\sqrt{2}\", font_size=36),\n",
        "        )\n",
        "        for sqrt in sqrts:\n",
        "            sqrt.next_to(diag.pfp(0.5), UL, buff=0.05)\n",
        "\n",
        "        self.play(\n",
        "            ShowCreation(diag),\n",
        "            dot.animate.move_to(square.get_corner(UR)),\n",
        "            TransformFromCopy(ones[:2], sqrts[0][\"1\"], time_span=(1, 2)),\n",
        "            *(\n",
        "                Write(sqrts[0][tex], time_span=(1, 2))\n",
        "                for tex in [R\"\\sqrt\", \"+\", \"2\"]\n",
        "            ),\n",
        "            run_time=2,\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            TransformMatchingTex(*sqrts, key_map={\"1^2 + 1^2\": \"2\"}, run_time=1)\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "        # Bring it up to a cube\n",
        "        axes_group.set_z_index(-1)\n",
        "        cube = VCube(2)\n",
        "        cube.move_to(ORIGIN, DL + IN)\n",
        "        cube.set_stroke(WHITE, 2)\n",
        "        cube.set_fill(opacity=0)\n",
        "\n",
        "        self.add(cube, side_lines[:2])\n",
        "        self.play(\n",
        "            FadeIn(axes_group),\n",
        "            ShowCreation(cube, lag_ratio=0.1, time_span=(0.5, 2.0)),\n",
        "            frame.animate.reorient(-16, 68, 0, (0.45, 0.98, 1.05), 4.36),\n",
        "            run_time=2\n",
        "        )\n",
        "        frame.add_ambient_rotation(DEG)\n",
        "        line = side_lines[2]\n",
        "        self.play(\n",
        "            ShowCreation(line),\n",
        "            FadeIn(ones[2], 0.5 * line.get_vector()),\n",
        "            dot.animate.move_to(line.get_end())\n",
        "        )\n",
        "        self.wait(2)\n",
        "\n",
        "        # Show three dimensional diagonal\n",
        "        diag3 = Line(axes.c2p(0, 0, 0), axes.c2p(1, 1, 1))\n",
        "        diag3.set_stroke(YELLOW, 3)\n",
        "\n",
        "        new_sqrts = VGroup(\n",
        "            Tex(R\"\\sqrt{\\sqrt{2}^2 + 1^2}\", font_size=24),\n",
        "            Tex(R\"\\sqrt{3}\", font_size=36),\n",
        "        )\n",
        "        for sqrt in new_sqrts:\n",
        "            sqrt.rotate(90 * DEG, RIGHT)\n",
        "            sqrt.next_to(diag3.get_center(), LEFT + OUT, SMALL_BUFF)\n",
        "\n",
        "        self.play(ShowCreation(diag3, run_time=2))\n",
        "        self.play(\n",
        "            TransformFromCopy(ones[2], new_sqrts[0][\"1\"][0], time_span=(1, 2)),\n",
        "            TransformFromCopy(sqrts[1], new_sqrts[0][R\"\\sqrt{2}\"][0], time_span=(1, 2)),\n",
        "            *(\n",
        "                Write(new_sqrts[0][tex], time_span=(1, 2))\n",
        "                for tex in [R\"\\sqrt\", \"+\", \"2\"]\n",
        "            ),\n",
        "            run_time=2,\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(\n",
        "            TransformMatchingTex(\n",
        "                *new_sqrts,\n",
        "                key_map={R\"\\sqrt{2}^2 + 1^2\": \"3\"},\n",
        "                match_animation=FadeTransform,\n",
        "                run_time=1,\n",
        "            )\n",
        "        )\n",
        "        self.wait(6)\n",
        "\n",
        "        # Show observables\n",
        "        symbols = VGroup(ones, sqrts[1], new_sqrts[1])\n",
        "        wireframe = VGroup(cube, side_lines, diag, diag3)\n",
        "\n",
        "        basis_vectors = VGroup(\n",
        "            Vector(2 * v, thickness=4, fill_color=color)\n",
        "            for v, color in zip(np.identity(3), [BLUE_E, BLUE_D, BLUE_C])\n",
        "        )\n",
        "        basis_vectors.set_z_index(1)\n",
        "        for vector in basis_vectors:\n",
        "            vector.always.set_perpendicular_to_camera(frame)\n",
        "\n",
        "        obs_labels = VGroup(\n",
        "            KetGroup(Text(f\"Obs {n}\", font_size=30), height_scale_factor=1.5, buff=0.05)\n",
        "            for n in range(1, 4)\n",
        "        )\n",
        "        obs_labels[2].rotate(90 * DEG, RIGHT)\n",
        "        for vector, label, nudge in zip(basis_vectors, obs_labels, [UP, RIGHT, RIGHT]):\n",
        "            label.next_to(vector.get_end(), vector.get_vector() + nudge, buff=0.05)\n",
        "\n",
        "        self.add(Point(), basis_vectors)\n",
        "        self.play(\n",
        "            LaggedStartMap(GrowArrow, basis_vectors, lag_ratio=0.25),\n",
        "            FadeOut(symbols),\n",
        "            FadeOut(dot),\n",
        "            wireframe.animate.set_stroke(opacity=0.2),\n",
        "            frame.animate.reorient(13, 67, 0, (-0.04, 0.76, 0.87), 4.84),\n",
        "        )\n",
        "        self.play(LaggedStartMap(FadeIn, obs_labels, lag_ratio=0.25))\n",
        "        self.wait(4)\n",
        "\n",
        "        new_cube = cube.copy()\n",
        "        new_cube.deactivate_depth_test()\n",
        "        new_cube.set_z_index(0)\n",
        "        new_cube.set_stroke(WHITE, 3, 1)\n",
        "        self.play(\n",
        "            Write(new_cube, stroke_width=5, lag_ratio=0.1, run_time=3),\n",
        "        )\n",
        "        self.play(FadeOut(new_cube))\n",
        "        self.wait(4)\n",
        "\n",
        "        # Show many diagonal directions\n",
        "        diag_vects = VGroup(\n",
        "            Vector(2 * normalize(np.array(tup)))\n",
        "            for tup in it.product(* 3 * [[-1, 0, 1]])\n",
        "            if get_norm(tup) > 0\n",
        "        )\n",
        "        for vect in diag_vects:\n",
        "            vect.set_perpendicular_to_camera(frame)\n",
        "            color = random_bright_color(\n",
        "                hue_range=(0.4, 0.5),\n",
        "                saturation_range=(0.5, 0.7),\n",
        "                luminance_range=(0.5, 0.6)\n",
        "            )\n",
        "            vect.set_color(color)\n",
        "\n",
        "        self.play(\n",
        "            FadeOut(obs_labels),\n",
        "            LaggedStartMap(GrowArrow, diag_vects),\n",
        "            frame.animate.reorient(-19, 61, 0, (-0.17, 0.22, -0.25), 6.96),\n",
        "            run_time=3\n",
        "        )\n",
        "        self.wait(10)\n",
        "\n",
        "\n",
        "class GrainOfSalt(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        morty = self.teacher\n",
        "        for pi in self.pi_creatures:\n",
        "            pi.body.insert_n_curves(100)\n",
        "\n",
        "        self.play(\n",
        "            morty.change(\"coin_flip_2\"),\n",
        "            self.change_students(\"hesitant\", \"sassy\", \"tease\", look_at=self.screen),\n",
        "        )\n",
        "        self.wait(2)\n",
        "        self.play(\n",
        "            morty.says(\"Take this with\\na grain of salt\", mode=\"hesitant\"),\n",
        "            self.change_students(\"pondering\", \"pondering\", \"pondering\", look_at=morty.eyes),\n",
        "        )\n",
        "        self.wait(3)\n",
        "        self.play(\n",
        "            morty.debubble(mode=\"raise_right_hand\", look_at=3 * UP),\n",
        "            self.change_students(\"hesitant\", \"erm\", \"hesitant\", look_at=2 * UP)\n",
        "        )\n",
        "        self.wait(4)\n",
        "\n",
        "        # More pondering\n",
        "        self.play(\n",
        "            morty.change(\"tease\"),\n",
        "            self.change_students(\"pondering\", \"thinking\", \"thinking\", look_at=2 * UP)\n",
        "        )\n",
        "        self.wait(5)\n",
        "\n",
        "\n",
        "class PatronScroll(PatreonEndScreen):\n",
        "    def construct(self):\n",
        "        # Title\n",
        "        title = Text(\"Special thanks to\\nthese supporters\")\n",
        "        title.to_corner(UR).shift(LEFT)\n",
        "        title.set_color(BLUE)\n",
        "        underline = Underline(title)\n",
        "        rect = BackgroundRectangle(VGroup(title, underline))\n",
        "        rect.set_fill(BLACK, 1)\n",
        "        rect.scale(2, about_edge=DOWN)\n",
        "\n",
        "        morty = Mortimer(height=1)\n",
        "        morty.next_to(title, LEFT)\n",
        "        morty.flip()\n",
        "\n",
        "        for mob in rect, title, underline, morty:\n",
        "            mob.fix_in_frame()\n",
        "            self.add(mob)\n",
        "\n",
        "        # Names\n",
        "        names = self.get_names()\n",
        "        name_mobs = VGroup(Text(name) for name in names)\n",
        "        name_mobs.scale(0.5)\n",
        "        for mob in name_mobs:\n",
        "            mob.set_max_width(4)\n",
        "        name_mobs.arrange(DOWN, aligned_edge=LEFT)\n",
        "        name_mobs.next_to(underline.get_left(), DR).shift(0.5 * RIGHT)\n",
        "        name_mobs.set_z_index(-1)\n",
        "\n",
        "        self.add(name_mobs)\n",
        "\n",
        "        # Scroll\n",
        "        frame = self.frame\n",
        "        dist = - name_mobs.get_y(DOWN) - 1\n",
        "        total_time = 37\n",
        "        velocity = dist / total_time\n",
        "        frame.clear_updaters()\n",
        "        frame.add_updater(lambda m, dt: m.shift(velocity * dt * DOWN))\n",
        "\n",
        "        self.play(morty.change(\"gracious\", name_mobs).fix_in_frame())\n",
        "        for x in range(total_time):\n",
        "            if random.random() < 0.15:\n",
        "                self.play(Blink(morty))\n",
        "            else:\n",
        "                self.wait()\n",
        "\n",
        "\n",
        "class ConstructQRCode2(InteractiveScene):\n",
        "    def construct(self):\n",
        "        # Test\n",
        "        code = SVGMobject(\"channel_support_QR_code\")\n",
        "        code.set_fill(BLACK, 1)\n",
        "        code.set_height(4)\n",
        "        background = SurroundingRectangle(code, buff=0.25)\n",
        "        background.set_fill(GREY_A, 1)\n",
        "        background.set_stroke(width=0)\n",
        "        background.set_z_index(-1)\n",
        "\n",
        "        squares = code[:-6]\n",
        "        corner_pieces = code[-6:]\n",
        "\n",
        "        squares.shuffle()\n",
        "        squares.sort(get_norm)\n",
        "        squares.set_fill(interpolate_color(BLUE_E, BLACK, 0.5), 1)\n",
        "\n",
        "        union = Union(*squares.copy().space_out_submobjects(0.99)).scale(1 / 0.99)\n",
        "        union.set_stroke(WHITE, 2)\n",
        "        union_pieces = VGroup(\n",
        "            VMobject().set_points(path)\n",
        "            for path in union.get_subpaths()\n",
        "        )\n",
        "        union_pieces.submobjects.sort(key=lambda m: -len(m.get_points()))\n",
        "        union_pieces.note_changed_family()\n",
        "        union_pieces.set_stroke(WHITE, 1)\n",
        "        union_pieces.set_anti_alias_width(3)\n",
        "\n",
        "        # New\n",
        "        frame = self.frame\n",
        "        frame.set_height(3)\n",
        "        self.add(background, union_pieces, squares, corner_pieces)\n",
        "        self.play(\n",
        "            frame.animate.to_default_state(),\n",
        "            ShowCreation(\n",
        "                union_pieces,\n",
        "                lag_ratio=0,\n",
        "            ),\n",
        "            # Write(squares, lag_ratio=0.1, time_span=(10, 20)),\n",
        "            FadeIn(background, time_span=(20, 25)),\n",
        "            Write(squares, stroke_color=BLUE, stroke_width=1, time_span=(12, 25)),\n",
        "            Write(corner_pieces, time_span=(20, 25)),\n",
        "            run_time=25,\n",
        "        )\n",
        "        self.play(\n",
        "            FadeOut(union_pieces),\n",
        "            squares.animate.set_fill(BLACK, 1),\n",
        "        )\n",
        "        squares.shuffle()\n",
        "        self.play(LaggedStart(\n",
        "            *(\n",
        "                Rotate(square, 90 * DEG)\n",
        "                for square in squares\n",
        "            ),\n",
        "            lag_ratio=0.02,\n",
        "            run_time=10\n",
        "        ))\n",
        "\n",
        "        # Old\n",
        "        return\n",
        "\n",
        "        squares.save_state()\n",
        "        squares.arrange_in_grid(buff=0)\n",
        "        squares.move_to(background)\n",
        "        squares.shuffle()\n",
        "        for square in squares:\n",
        "            dot = Dot()\n",
        "            dot.set_fill(BLACK)\n",
        "            dot.replace(square)\n",
        "            square.set_points(dot.get_points())\n",
        "        squares.set_stroke(WHITE, 1)\n",
        "        squares.set_fill(opacity=0)\n",
        "\n",
        "        background.save_state()\n",
        "        background.set_fill(GREY_D)\n",
        "        background.match_height(squares.saved_state)\n",
        "\n",
        "        self.play(\n",
        "            Restore(background),\n",
        "            Restore(squares, lag_ratio=0.1),\n",
        "            Write(corner_pieces, time_span=(18, 23), lag_ratio=0.25),\n",
        "            run_time=35,\n",
        "        )\n"
    ]
}