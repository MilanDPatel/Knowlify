{
    "topic": "is demonstrating the concept of incrementing a number by 1 million and showing the real",
    "code": [
        "from manim_imports_ext import *\n",
        "from _2017.efvgt import get_confetti_animations\n",
        "\n",
        "\n",
        "class CrossingOneMillion(TeacherStudentsScene):\n",
        "    def construct(self):\n",
        "        self.increment_count()\n",
        "        self.comment_on_real_milestone()\n",
        "        self.reflect()\n",
        "\n",
        "    def increment_count(self):\n",
        "        number = self.number = Integer(0)\n",
        "        number.move_to(UP, LEFT)\n",
        "        number.scale(3)\n",
        "        self.look_at(number, run_time=0)\n",
        "\n",
        "        confetti_spirils = self.confetti_spirils = list(map(\n",
        "            turn_animation_into_updater,\n",
        "            get_confetti_animations(50)\n",
        "        ))\n",
        "        self.add(*confetti_spirils)\n",
        "        self.play(\n",
        "            ChangeDecimalToValue(\n",
        "                number, 10**6,\n",
        "                position_update_func=lambda m: m.move_to(\n",
        "                    UP, LEFT\n",
        "                ),\n",
        "                rate_func=bezier([0, 0, 0, 1, 1, 1]),\n",
        "                run_time=5,\n",
        "            ),\n",
        "            LaggedStartMap(\n",
        "                ApplyMethod, self.get_pi_creatures(),\n",
        "                lambda m: (m.change, \"hooray\", number),\n",
        "                rate_func=squish_rate_func(smooth, 0, 0.5),\n",
        "                run_time=4,\n",
        "            ),\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "    def comment_on_real_milestone(self):\n",
        "        number = self.number\n",
        "        remainder = Integer(2**20 - 10**6)\n",
        "        words = OldTexText(\n",
        "            \"Just\",\n",
        "            \"{:,}\".format(remainder.number),\n",
        "            \"to go \\\\\\\\ before the real milestone\",\n",
        "        )\n",
        "        self.student_says(\n",
        "            words,\n",
        "            added_anims=[\n",
        "                ApplyMethod(self.teacher.change, \"hesitant\"),\n",
        "                self.change_students(\n",
        "                    \"sassy\", \"speaking\", \"happy\"\n",
        "                ),\n",
        "                number.scale, 0.5,\n",
        "                number.center,\n",
        "                number.to_edge, UP,\n",
        "            ]\n",
        "        )\n",
        "        self.wait()\n",
        "        self.remove(*self.confetti_spirils)\n",
        "        remainder.replace(words[1])\n",
        "        words.submobjects[1] = remainder\n",
        "        self.play(\n",
        "            ChangeDecimalToValue(number, 2**20, run_time=3),\n",
        "            ChangeDecimalToValue(remainder, 0.1, run_time=3),\n",
        "            self.teacher.change, \"pondering\", number,\n",
        "            self.change_students(\n",
        "                *[\"pondering\"] * 3,\n",
        "                look_at=number\n",
        "            ),\n",
        "        )\n",
        "        self.play(\n",
        "            FadeOut(self.students[1].bubble),\n",
        "            FadeOut(self.students[1].bubble.content),\n",
        "        )\n",
        "        self.wait(2)\n",
        "\n",
        "    def reflect(self):\n",
        "        bubble = ThoughtBubble(\n",
        "            direction=RIGHT,\n",
        "            height=4,\n",
        "            width=7,\n",
        "        )\n",
        "        bubble.pin_to(self.teacher)\n",
        "        q_marks = OldTex(\"???\")\n",
        "        q_marks.scale(2)\n",
        "        q_marks.set_color_by_gradient(BLUE_D, BLUE_B)\n",
        "        q_marks.next_to(bubble[-1].get_top(), DOWN)\n",
        "        arrow = Vector(0.5 * DOWN, color=WHITE)\n",
        "        arrow.next_to(q_marks, DOWN)\n",
        "        number = self.number\n",
        "        number.generate_target()\n",
        "        number.target.next_to(arrow, DOWN)\n",
        "\n",
        "        self.play(\n",
        "            ShowCreation(\n",
        "                bubble,\n",
        "                rate_func=squish_rate_func(smooth, 0, 0.3)\n",
        "            ),\n",
        "            Write(q_marks),\n",
        "            GrowArrow(arrow),\n",
        "            MoveToTarget(number),\n",
        "            run_time=3\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ShareWithFriends(PiCreatureScene):\n",
        "    def construct(self):\n",
        "        randy, morty = self.pi_creatures\n",
        "\n",
        "        self.pi_creature_says(\n",
        "            randy,\n",
        "            \"Wanna see why \\\\\\\\\" +\n",
        "            \"$1 - \\\\frac{1}{3} + \\\\frac{1}{5}\" +\n",
        "            \"- \\\\frac{1}{7} + \\\\cdots = \\\\frac{\\\\pi}{4}$?\",\n",
        "            target_mode=\"tease\",\n",
        "            added_anims=[morty.look, UP]\n",
        "        )\n",
        "        self.play(morty.change, \"maybe\", UP)\n",
        "        self.wait()\n",
        "\n",
        "    def create_pi_creatures(self):\n",
        "        randy = Randolph(color=GREEN)\n",
        "        morty = Mortimer(color=RED_E)\n",
        "        randy.to_edge(DOWN).shift(4 * LEFT)\n",
        "        morty.to_edge(DOWN)\n",
        "        return randy, morty\n",
        "\n",
        "\n",
        "class AllFeaturedCreators(MortyPiCreatureScene):\n",
        "    def construct(self):\n",
        "        morty = self.pi_creature\n",
        "        title = Title(\"Featured creators\")\n",
        "\n",
        "        dots = VGroup(*[Dot(color=WHITE) for x in range(4)])\n",
        "        dots.arrange(DOWN, buff=LARGE_BUFF)\n",
        "        dots.to_edge(LEFT, buff=2)\n",
        "\n",
        "        creators = VGroup(*list(map(TexText, [\n",
        "            \"Think Twice\",\n",
        "            \"LeiosOS\",\n",
        "            \"Welch Labs\",\n",
        "            \"Infinity plus one\",\n",
        "        ])))\n",
        "\n",
        "        for creator, dot in zip(creators, dots):\n",
        "            creator.next_to(dot, RIGHT)\n",
        "            dot.save_state()\n",
        "            dot.scale(4)\n",
        "            dot.set_fill(opacity=0)\n",
        "\n",
        "        rects = VGroup(*list(map(SurroundingRectangle, creators)))\n",
        "        rects.set_stroke(WHITE, 2)\n",
        "        rects.set_fill(BLUE_E, 1)\n",
        "\n",
        "        think_words = VGroup(*list(map(TexText, [\n",
        "            \"(thinks visually)\",\n",
        "            \"(thinks in terms of communities)\",\n",
        "            \"(thinks in terms of series)\",\n",
        "            \"(thinks playfully)\",\n",
        "        ])))\n",
        "        for word, creator in zip(think_words, creators):\n",
        "            # word.move_to(creator, RIGHT)\n",
        "            # word.align_to(RIGHT, LEFT)\n",
        "            word.next_to(creator, RIGHT)\n",
        "            word.set_color(YELLOW)\n",
        "\n",
        "        self.play(\n",
        "            morty.change, \"raise_right_hand\",\n",
        "            Write(title)\n",
        "        )\n",
        "        self.wait()\n",
        "        self.play(LaggedStartMap(\n",
        "            ApplyMethod, dots,\n",
        "            lambda m: (m.restore,)\n",
        "        ))\n",
        "        self.play(\n",
        "            LaggedStartMap(FadeIn, rects, lag_ratio=0.7),\n",
        "            morty.change, \"happy\"\n",
        "        )\n",
        "        self.add(creators, rects)\n",
        "        self.wait()\n",
        "\n",
        "        modes = [\"hooray\", \"tease\", \"raise_right_hand\", \"hooray\"]\n",
        "        for rect, word, mode in zip(rects, think_words, modes):\n",
        "            self.play(\n",
        "                self.get_rect_removal(rect),\n",
        "                morty.change, mode,\n",
        "            )\n",
        "            self.wait()\n",
        "            self.play(Write(word))\n",
        "            self.wait()\n",
        "\n",
        "        self.add(think_words)\n",
        "\n",
        "    def get_rect_removal(self, rect):\n",
        "        rect.generate_target()\n",
        "        rect.target.stretch(0, 0, about_edge=LEFT)\n",
        "        rect.target.set_stroke(width=0)\n",
        "        return MoveToTarget(rect)\n",
        "\n",
        "\n",
        "class GeneralWrapper(Scene):\n",
        "    CONFIG = {\n",
        "        \"title_text\": \"\"\n",
        "    }\n",
        "\n",
        "    def construct(self):\n",
        "        title = OldTexText(self.title_text)\n",
        "        title.to_edge(UP)\n",
        "        rect = ScreenRectangle(height=6.5)\n",
        "        rect.next_to(title, DOWN)\n",
        "        self.play(Write(title), ShowCreation(rect))\n",
        "        self.wait()\n",
        "\n",
        "\n",
        "class ThinkTwiceWrapper(GeneralWrapper):\n",
        "    CONFIG = {\"title_text\": \"Think Twice\"}\n",
        "\n",
        "\n",
        "class LeiosOSWrapper(GeneralWrapper):\n",
        "    CONFIG = {\"title_text\": \"LeiosOS\"}\n",
        "\n",
        "\n",
        "class WelchLabsWrapper(GeneralWrapper):\n",
        "    CONFIG = {\"title_text\": \"Welch Labs\"}\n",
        "\n",
        "\n",
        "class InfinityPlusOneWrapper(GeneralWrapper):\n",
        "    CONFIG = {\"title_text\": \"Infinity Plus One\"}\n",
        "\n",
        "\n",
        "class EndScreen(PiCreatureScene):\n",
        "    CONFIG = {\n",
        "        \"seconds_to_blink\": 3,\n",
        "    }\n",
        "\n",
        "    def construct(self):\n",
        "        words = OldTexText(\"Clicky stuffs\")\n",
        "        words.scale(1.5)\n",
        "        words.next_to(self.pi_creature, UP)\n",
        "        words.to_edge(UP)\n",
        "\n",
        "        self.play(\n",
        "            FadeIn(\n",
        "                words,\n",
        "                run_time=2,\n",
        "                lag_ratio=0.5\n",
        "            ),\n",
        "            self.pi_creature.change_mode, \"hooray\"\n",
        "        )\n",
        "        self.wait()\n",
        "        mode_point_pairs = [\n",
        "            (\"raise_left_hand\", 5 * LEFT + 3 * UP),\n",
        "            (\"raise_right_hand\", 5 * RIGHT + 3 * UP),\n",
        "            (\"thinking\", 5 * LEFT + 2 * DOWN),\n",
        "            (\"thinking\", 5 * RIGHT + 2 * DOWN),\n",
        "            (\"thinking\", 5 * RIGHT + 2 * DOWN),\n",
        "            (\"happy\", 5 * LEFT + 3 * UP),\n",
        "            (\"raise_right_hand\", 5 * RIGHT + 3 * UP),\n",
        "        ]\n",
        "        for mode, point in mode_point_pairs:\n",
        "            self.play(self.pi_creature.change, mode, point)\n",
        "            self.wait()\n",
        "        self.wait(3)\n",
        "\n",
        "    def create_pi_creature(self):\n",
        "        self.pi_creature = Randolph()\n",
        "        self.pi_creature.shift(2 * DOWN + 1.5 * LEFT)\n",
        "        return self.pi_creature\n"
    ]
}