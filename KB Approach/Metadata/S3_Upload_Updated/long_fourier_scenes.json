{
    "topic": "The mathematical concept being demonstrated is the Fourier series and its application to visualize a function. The code",
    "code": [
        "from manim_imports_ext import *\n",
        "\n",
        "from _2019.diffyq.part4.fourier_series_scenes import ComplexFourierSeriesExample\n",
        "from manimlib.once_useful_constructs.fractals import HilbertCurve\n",
        "\n",
        "\n",
        "class FourierSeriesExampleWithRectForZoom(ComplexFourierSeriesExample):\n",
        "    CONFIG = {\n",
        "        \"n_vectors\": 100,\n",
        "        \"slow_factor\": 0.01,\n",
        "        \"rect_scale_factor\": 0.1,\n",
        "        \"start_drawn\": True,\n",
        "        \"drawing_height\": 7,\n",
        "        \"rect_stroke_width\": 1,\n",
        "    }\n",
        "\n",
        "    def construct(self):\n",
        "        self.add_vectors_circles_path()\n",
        "        self.circles.set_stroke(opacity=0.5)\n",
        "        rect = self.rect = self.get_rect()\n",
        "        rect.set_height(self.rect_scale_factor * FRAME_HEIGHT)\n",
        "        rect.add_updater(lambda m: m.move_to(\n",
        "            self.get_rect_center()\n",
        "        ))\n",
        "        self.add(rect)\n",
        "        self.run_one_cycle()\n",
        "\n",
        "    def get_rect_center(self):\n",
        "        return center_of_mass([\n",
        "            v.get_end()\n",
        "            for v in self.vectors\n",
        "        ])\n",
        "\n",
        "    def get_rect(self):\n",
        "        return ScreenRectangle(\n",
        "            color=BLUE,\n",
        "            stroke_width=self.rect_stroke_width,\n",
        "        )\n",
        "\n",
        "\n",
        "class ZoomedInFourierSeriesExample(FourierSeriesExampleWithRectForZoom, MovingCameraScene):\n",
        "    CONFIG = {\n",
        "        \"vector_config\": {\n",
        "            \"max_tip_length_to_length_ratio\": 0.15,\n",
        "            \"tip_length\": 0.05,\n",
        "        },\n",
        "        \"parametric_function_step_size\": 0.001,\n",
        "    }\n",
        "\n",
        "    def setup(self):\n",
        "        ComplexFourierSeriesExample.setup(self)\n",
        "        MovingCameraScene.setup(self)\n",
        "\n",
        "    def get_rect(self):\n",
        "        return self.camera_frame\n",
        "\n",
        "    def add_vectors_circles_path(self):\n",
        "        super().add_vectors_circles_path()\n",
        "        for v in self.vectors:\n",
        "            if v.get_stroke_width() < 1:\n",
        "                v.set_stroke(width=1)\n",
        "\n",
        "\n",
        "class ZoomedInFourierSeriesExample100x(ZoomedInFourierSeriesExample):\n",
        "    CONFIG = {\n",
        "        \"vector_config\": {\n",
        "            \"max_tip_length_to_length_ratio\": 0.15 * 0.4,\n",
        "            \"tip_length\": 0.05 * 0.2,\n",
        "            \"max_stroke_width_to_length_ratio\": 80,\n",
        "            \"stroke_width\": 3,\n",
        "        },\n",
        "        \"max_circle_stroke_width\": 0.5,\n",
        "        \"rect_scale_factor\": 0.01,\n",
        "        # \"parametric_function_step_size\": 0.01,\n",
        "    }\n",
        "\n",
        "    def get_rect_center(self):\n",
        "        return self.vectors[-1].get_end()\n",
        "\n",
        "    # def get_drawn_path(self, vectors, stroke_width=2, **kwargs):\n",
        "    #     return self.get_path_end(vectors, stroke_width, **kwargs)\n",
        "\n",
        "\n",
        "class TrebleClefFourierSeriesExampleWithRectForZoom(FourierSeriesExampleWithRectForZoom):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"TrebleClef\",\n",
        "        \"drawn_path_stroke_width\": 10,\n",
        "    }\n",
        "\n",
        "\n",
        "class TrebleClefZoomedInFourierSeriesExample(ZoomedInFourierSeriesExample):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"TrebleClef\",\n",
        "    }\n",
        "\n",
        "\n",
        "class NailAndGearFourierSeriesExampleWithRectForZoom(FourierSeriesExampleWithRectForZoom):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"Nail_And_Gear\",\n",
        "        \"n_vectors\": 200,\n",
        "        \"drawn_path_color\": \"#39FF14\",\n",
        "    }\n",
        "\n",
        "\n",
        "class NailAndGearZoomedInFourierSeriesExample(ZoomedInFourierSeriesExample):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"Nail_And_Gear\",\n",
        "        \"n_vectors\": 200,\n",
        "        \"drawn_path_color\": \"#39FF14\",\n",
        "    }\n",
        "\n",
        "\n",
        "class SigmaFourierSeriesExampleWithRectForZoom(FourierSeriesExampleWithRectForZoom):\n",
        "    CONFIG = {\n",
        "        \"n_vectors\": 200,\n",
        "        \"drawn_path_color\": PINK,\n",
        "        \"rect_stroke_width\": 0,\n",
        "    }\n",
        "\n",
        "    def get_shape(self):\n",
        "        return OldTex(\"\\\\Sigma\")\n",
        "\n",
        "\n",
        "class SigmaZoomedInFourierSeriesExample(SigmaFourierSeriesExampleWithRectForZoom, ZoomedInFourierSeriesExample):\n",
        "    pass\n",
        "\n",
        "\n",
        "class FourierOfFourier(FourierSeriesExampleWithRectForZoom):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"FourierOneLine\",\n",
        "        \"n_vectors\": 300,\n",
        "        \"rect_stroke_width\": 1,\n",
        "    }\n",
        "\n",
        "\n",
        "class FourierOfFourierZoomedIn(ZoomedInFourierSeriesExample):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"FourierOneLine\",\n",
        "        \"max_circle_stroke_width\": 0.3,\n",
        "        \"n_vectors\": 300,\n",
        "    }\n",
        "\n",
        "\n",
        "class FourierOfFourier100xZoom(ZoomedInFourierSeriesExample100x):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"FourierOneLine\",\n",
        "        \"max_circle_stroke_width\": 0.3,\n",
        "        \"n_vectors\": 300,\n",
        "        \"slow_factor\": 0.001,\n",
        "    }\n",
        "\n",
        "    def run_one_cycle(self):\n",
        "        self.vector_clock.set_value(0.3)\n",
        "        self.wait(40)\n",
        "\n",
        "\n",
        "class FourierOfHilbert(FourierSeriesExampleWithRectForZoom):\n",
        "    CONFIG = {\n",
        "        \"n_vectors\": 300,\n",
        "        \"rect_stroke_width\": 1,\n",
        "        \"drawn_path_stroke_width\": 4,\n",
        "        \"drawn_path_color\": BLUE,\n",
        "    }\n",
        "\n",
        "    def get_path(self):\n",
        "        path = HilbertCurve(order=5)\n",
        "        path.set_height(self.drawing_height)\n",
        "        path.to_edge(DOWN)\n",
        "        combined_path = VMobject()\n",
        "        for sm in path.family_members_with_points():\n",
        "            combined_path.append_vectorized_mobject(sm)\n",
        "        start = combined_path.get_start()\n",
        "        end = combined_path.get_end()\n",
        "        points = [\n",
        "            interpolate(end, start, alpha)\n",
        "            for alpha in np.linspace(0, 1, 10)\n",
        "        ]\n",
        "        for point in points:\n",
        "            combined_path.add_line_to(point)\n",
        "\n",
        "        combined_path.set_stroke(width=0)\n",
        "        return combined_path\n",
        "\n",
        "\n",
        "class FourierOfHilbertZoomedIn(FourierOfHilbert, ZoomedInFourierSeriesExample):\n",
        "    pass\n",
        "\n",
        "\n",
        "class FourierOfBritain(FourierSeriesExampleWithRectForZoom):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"Britain\",\n",
        "        \"n_vectors\": 500,\n",
        "        \"drawn_path_color\": RED,\n",
        "    }\n",
        "\n",
        "\n",
        "class FourierOfBritainZoomedIn(FourierOfBritain, ZoomedInFourierSeriesExample):\n",
        "    pass\n",
        "\n",
        "\n",
        "class FourierOfSeattle(FourierSeriesExampleWithRectForZoom):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"SeattleSkyline\",\n",
        "        \"drawing_height\": 7,\n",
        "        \"n_vectors\": 400,\n",
        "        \"drawn_path_color\": TEAL,\n",
        "        \"drawn_path_stroke_width\": 5,\n",
        "    }\n",
        "\n",
        "\n",
        "class FourierOfSeattleZoomedIn(ZoomedInFourierSeriesExample):\n",
        "    CONFIG = {\n",
        "        \"file_name\": \"SeattleSkyline\",\n",
        "        \"drawing_height\": 7,\n",
        "        \"n_vectors\": 400,\n",
        "        \"drawn_path_color\": TEAL,\n",
        "        \"drawn_path_stroke_width\": 5,\n",
        "        \"max_circle_stroke_width\": 0.3,\n",
        "    }\n",
        "\n",
        "\n",
        "class VideoWrapper(Scene):\n",
        "    def construct(self):\n",
        "        fade_rect = FullScreenFadeRectangle()\n",
        "        fade_rect.set_fill(GREY_D, 1)\n",
        "        screen_rect = ScreenRectangle()\n",
        "        screen_rect.set_height(4)\n",
        "        screen_rect.set_fill(BLACK, 1)\n",
        "        screen_rect.set_stroke(width=0)\n",
        "\n",
        "        boundary = AnimatedBoundary(screen_rect)\n",
        "\n",
        "        title = OldTexText(\"Learn the math\")\n",
        "        title.scale(1.5)\n",
        "        title.next_to(screen_rect, UP)\n",
        "\n",
        "        self.add(fade_rect)\n",
        "        self.add(screen_rect)\n",
        "        self.add(boundary)\n",
        "\n",
        "        self.play(FadeInFromDown(title))\n",
        "        self.wait(19)\n"
    ]
}