{
    "topic": "demonstrates the concept of a linear transformation.",
    "code": [
        "#!/usr/bin/env python\n",
        "from manim_imports_ext import *\n",
        "\n",
        "from zeta import *\n",
        "\n",
        "class ExampleLinearTransformation(LinearTransformationScene):\n",
        "    CONFIG = {\n",
        "        \"show_coordinates\" : True\n",
        "    }\n",
        "    def construct(self):\n",
        "        self.wait()\n",
        "        self.apply_transposed_matrix([[2, 1], [-3, 1]])\n",
        "        self.wait()\n",
        "\n",
        "def example_function(point):\n",
        "    x, y, z = point\n",
        "    return np.array([\n",
        "        x + np.sin(y),\n",
        "        y + np.sin(x),\n",
        "        0\n",
        "    ])\n",
        "\n",
        "class ExampleMultivariableFunction(LinearTransformationScene):\n",
        "    CONFIG = {\n",
        "        \"show_basis_vectors\" : False,\n",
        "        \"show_coordinates\" : True,\n",
        "    }\n",
        "    def construct(self):\n",
        "        self.wait()\n",
        "        self.apply_nonlinear_transformation(example_function)\n",
        "        self.wait()\n",
        "        \n",
        "class ExampleMultivariableFunctionWithZoom(ZoomedScene, ExampleMultivariableFunction):\n",
        "    def construct(self):\n",
        "        self.activate_zooming()\n",
        "        self.little_rectangle.set_color(YELLOW)\n",
        "        point = 2*LEFT + UP\n",
        "        self.little_rectangle.move_to(point)\n",
        "        dense_lines = self.get_dense_lines(point)\n",
        "\n",
        "        self.play(ShowCreation(dense_lines))\n",
        "        self.plane.add(dense_lines)\n",
        "        self.wait()\n",
        "        self.apply_nonlinear_transformation(\n",
        "            example_function,\n",
        "            added_anims = [ApplyMethod(\n",
        "                self.little_rectangle.move_to,\n",
        "                example_function(point),\n",
        "                run_time = 3\n",
        "            )]\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "    def get_dense_lines(self, point):\n",
        "        radius = 0.4*self.little_rectangle.get_height()\n",
        "        n_steps = 5\n",
        "\n",
        "        vert_lines = VGroup(*[\n",
        "            Line(DOWN, UP).scale(FRAME_Y_RADIUS).shift(x*RIGHT)\n",
        "            for x in np.linspace(point[0]-radius, point[0]+radius, n_steps)\n",
        "        ])\n",
        "        horiz_lines = VGroup(*[\n",
        "            Line(LEFT, RIGHT).scale(FRAME_X_RADIUS).shift(y*UP)\n",
        "            for y in np.linspace(point[1]-radius, point[1]+radius, n_steps)            \n",
        "        ])\n",
        "        dense_lines = VGroup(vert_lines, horiz_lines)\n",
        "        dense_lines.set_stroke(BLUE, width = 2)\n",
        "        for group in vert_lines, horiz_lines:\n",
        "            group[n_steps/2].set_color(WHITE)        \n",
        "        return dense_lines\n",
        "\n",
        "    def capture_mobjects_in_camera(self, mobjects, **kwargs):\n",
        "        self.camera.capture_mobjects(mobjects, **kwargs)\n",
        "        if self.zoom_activated:\n",
        "            filter_mobjects = [m for m in mobjects if m not in self.background_plane.get_family()]\n",
        "            self.zoomed_camera.capture_mobjects(\n",
        "                filter_mobjects, **kwargs\n",
        "            )\n",
        "\n",
        "class ExampleMultivariableFunctionWithMuchZoom(ExampleMultivariableFunctionWithZoom):\n",
        "    CONFIG = {\n",
        "        \"zoom_factor\" : 20\n",
        "    }\n",
        "\n",
        "class ExampleDeterminantAnimation(LinearTransformationScene):\n",
        "    CONFIG = {\n",
        "        \"show_coordinates\" : True,\n",
        "    }\n",
        "    def construct(self):\n",
        "        self.add_unit_square()\n",
        "        self.wait()\n",
        "        self.apply_transposed_matrix([[3, 0], [1, 2]])\n",
        "        self.wait(2)\n",
        "\n",
        "class JacobianDeterminantAnimation(ExampleMultivariableFunctionWithMuchZoom):\n",
        "    CONFIG = {\n",
        "        \"point\" : 2*LEFT+UP\n",
        "    }\n",
        "    def construct(self):\n",
        "        self.activate_zooming()\n",
        "        self.little_rectangle.set_color(YELLOW)\n",
        "        point = self.point\n",
        "        self.little_rectangle.move_to(point)\n",
        "        dense_lines = self.get_dense_lines(point)\n",
        "\n",
        "        self.add_unit_square()\n",
        "        tiny_unit = get_norm(\n",
        "            dense_lines[0][1].get_center()-dense_lines[0][0].get_center()\n",
        "        )\n",
        "        self.square.scale(tiny_unit)\n",
        "        self.square.shift(point)\n",
        "\n",
        "        self.play(ShowCreation(dense_lines))\n",
        "        self.plane.add(dense_lines)\n",
        "        self.wait()\n",
        "        self.apply_nonlinear_transformation(\n",
        "            example_function,\n",
        "            added_anims = [ApplyMethod(\n",
        "                self.little_rectangle.move_to,\n",
        "                example_function(point),\n",
        "                run_time = 3\n",
        "            )]\n",
        "        )\n",
        "        self.wait()\n",
        "\n",
        "class SmallJacobianDeterminant(JacobianDeterminantAnimation):\n",
        "    CONFIG = {\n",
        "        \"point\" : UP,\n",
        "    }\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n"
    ]
}