{
    "topic": "demonstrates the concept of a binary sequence and its transformation through a series of coin fli",
    "code": [
        "\n",
        "from manim_imports_ext import *\n",
        "from _2018.eop.reusable_imports import *\n",
        "\n",
        "class ShuffleThroughAllSequences(Scene):\n",
        "    CONFIG = {\n",
        "        \"nb_coins\" : 20,\n",
        "        \"run_time\" : 5,\n",
        "        \"fps\" : int(1.0/PRODUCTION_QUALITY_FRAME_DURATION),\n",
        "        \"coin_size\" : 0.5,\n",
        "        \"coin_spacing\" : 0.65\n",
        "    }\n",
        "\n",
        "\n",
        "    def construct(self):\n",
        "\n",
        "        nb_frames = self.run_time * self.fps\n",
        "        nb_relevant_coins = int(np.log2(nb_frames)) + 1\n",
        "        print(\"relevant coins:\", nb_relevant_coins)\n",
        "        nb_idle_coins = self.nb_coins - nb_relevant_coins\n",
        "\n",
        "        idle_heads = CoinSequence(nb_idle_coins * [\"H\"],\n",
        "            radius = self.coin_size * 0.5,\n",
        "            spacing = self.coin_spacing)\n",
        "        idle_tails = CoinSequence(nb_idle_coins * [\"T\"],\n",
        "            radius = self.coin_size * 0.5,\n",
        "            spacing = self.coin_spacing)\n",
        "        idle_tails.fade(0.5)\n",
        "\n",
        "        idle_part = VGroup(idle_heads, idle_tails)\n",
        "        left_idle_part = CoinSequence(6 * [\"H\"],\n",
        "            radius = self.coin_size * 0.5,\n",
        "            spacing = self.coin_spacing)\n",
        "\n",
        "        #self.add(idle_part, left_idle_part)\n",
        "        self.add(left_idle_part)\n",
        "        last_coin_seq = VGroup()\n",
        "\n",
        "        for i in range(2**nb_relevant_coins):\n",
        "            binary_seq = binary(i)\n",
        "            # pad to the left with 0s\n",
        "            nb_leading_zeroes = nb_relevant_coins - len(binary_seq)\n",
        "            for j in range(nb_leading_zeroes):\n",
        "                binary_seq.insert(0, 0)\n",
        "            seq2 = [\"H\" if x == 0 else \"T\" for x in binary_seq]\n",
        "            coin_seq = CoinSequence(seq2,\n",
        "                radius = self.coin_size * 0.5,\n",
        "                spacing = self.coin_spacing)\n",
        "            coin_seq.next_to(idle_part, LEFT, buff = self.coin_spacing - self.coin_size)\n",
        "            left_idle_part.next_to(coin_seq, LEFT, buff = self.coin_spacing - self.coin_size)\n",
        "            all_coins = VGroup(left_idle_part, coin_seq) #, idle_part)\n",
        "            all_coins.center()\n",
        "            self.remove(last_coin_seq)\n",
        "            self.add(coin_seq)\n",
        "            #self.wait(1.0/self.fps)\n",
        "            self.update_frame()\n",
        "            self.add_frames(self.get_frame())\n",
        "            last_coin_seq = coin_seq\n",
        "            print(float(i)/2**nb_relevant_coins)\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n"
    ]
}