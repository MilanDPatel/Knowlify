{
    "topic": "The mathematical concept being demonstrated is the probability density function (PDF) and cumulative distribution function (C",
    "code": [
        "\n",
        "from manim_imports_ext import *\n",
        "from _2018.eoc.chapter8 import *\n",
        "\n",
        "import scipy.special\n",
        "\n",
        "class IllustrateAreaModelErf(GraphScene):\n",
        "    CONFIG = {\n",
        "        \"x_min\" : -3.0,\n",
        "        \"x_max\" : 3.0,\n",
        "        \"y_min\" : 0,\n",
        "        \"y_max\" : 1.0,\n",
        "        \"num_rects\": 400,\n",
        "        \"y_axis_label\" : \"\",\n",
        "        \"x_axis_label\" : \"\",\n",
        "        \"variable_point_label\" : \"a\",\n",
        "        \"graph_origin\": 2.5 * DOWN + 4 * RIGHT,\n",
        "        \"x_axis_width\": 5,\n",
        "        \"y_axis_height\": 5\n",
        "    }\n",
        "\n",
        "    def construct(self):\n",
        "\n",
        "        # integral bounds\n",
        "        x_min_1 = -0.0001\n",
        "        x_max_1 = 0.0001\n",
        "\n",
        "        x_min_2 = self.x_min\n",
        "        x_max_2 = self.x_max\n",
        "\n",
        "        self.setup_axes()\n",
        "        self.remove(self.x_axis, self.y_axis)\n",
        "        graph = self.get_graph(lambda x: np.exp(-x**2) * 2.0 / TAU ** 0.5)\n",
        "        area = self.area = self.get_area(graph, x_min_1, x_max_1)\n",
        "\n",
        "\n",
        "        pdf_formula = OldTex(\"p(x) = {1\\over \\sigma\\sqrt{2\\pi}}e^{-{1\\over 2}({x\\over\\sigma})^2}\")\n",
        "        pdf_formula.set_color(graph.color)\n",
        "\n",
        "        cdf_formula = OldTex(\"P(|X| < \", \"a\", \") = \\int\", \"_{-a}\", \"^a\", \"p(x) dx\")\n",
        "        cdf_formula.set_color_by_tex(\"a\", YELLOW)\n",
        "        cdf_formula.next_to(graph, LEFT, buff = 2)\n",
        "        pdf_formula.next_to(cdf_formula, UP)\n",
        "\n",
        "        formulas = VGroup(pdf_formula, cdf_formula)\n",
        "        self.play(Write(pdf_formula))\n",
        "        self.play(Write(cdf_formula))\n",
        "        \n",
        "        self.wait()\n",
        "\n",
        "\n",
        "        self.play(ShowCreation(self.x_axis))\n",
        "        self.play(ShowCreation(graph))\n",
        "        self.play(FadeIn(area))\n",
        "\n",
        "        self.v_graph = graph\n",
        "        self.add_T_label(\n",
        "            x_min_1,\n",
        "            label = \"-a\",\n",
        "            side = LEFT,\n",
        "            color = YELLOW,\n",
        "            animated = False\n",
        "        )\n",
        "        self.add_T_label(\n",
        "            x_max_1,\n",
        "            label = \"a\",\n",
        "            side = RIGHT,\n",
        "            color = YELLOW,\n",
        "            animated = False\n",
        "        )\n",
        "        # don't show the labels just yet\n",
        "        self.remove(\n",
        "            self.left_T_label_group[0],\n",
        "            self.right_T_label_group[0],\n",
        "        )\n",
        "\n",
        "        def integral_update_func(t):\n",
        "            return scipy.special.erf(\n",
        "                self.point_to_coords(self.right_v_line.get_center())[0]\n",
        "            )\n",
        "\n",
        "        def integral_update_func_percent(t):\n",
        "            return 100 * integral_update_func(t)\n",
        "            \n",
        "        equals_sign = OldTex(\"=\").next_to(cdf_formula, buff = MED_LARGE_BUFF)\n",
        "\n",
        "        cdf_value = DecimalNumber(0, color = graph.color, num_decimal_places = 3)\n",
        "        cdf_value.next_to(equals_sign)\n",
        "        self.play(\n",
        "            FadeIn(equals_sign),\n",
        "            FadeIn(cdf_value)\n",
        "        )\n",
        "        self.add_foreground_mobject(cdf_value)\n",
        "\n",
        "        cdf_percentage = DecimalNumber(0, unit = \"\\\\%\")\n",
        "        cdf_percentage.move_to(self.coords_to_point(0,0.2))\n",
        "        self.add_foreground_mobject(cdf_percentage)\n",
        "\n",
        "        cdf_value.add_updater(\n",
        "            lambda m: m.set_value(integral_update_func())\n",
        "        )\n",
        "\n",
        "        anim = self.get_animation_integral_bounds_change(\n",
        "            graph, x_min_2, x_max_2,\n",
        "            run_time = 3)\n",
        "\n",
        "\n",
        "        self.play(\n",
        "            anim\n",
        "        )\n",
        "\n",
        "        rect = SurroundingRectangle(formulas, buff = 0.5 * MED_LARGE_BUFF)\n",
        "        self.play(ShowCreation(rect))\n"
    ]
}